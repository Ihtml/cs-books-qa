- [问题 6-1. 我们经常这样说:“两个计算机进行通信”。我们应当怎样理解这句话? 解答:这个 问题一定要弄清楚 。](#问题-6-1-我们经常这样说两个计算机进行通信我们应当怎样理解这句话-解答这个-问题一定要弄清楚-)
- [问题 6-2. 能否用你的 PC 进行 一 个简单的实验:一个计算机同时和 5 个计算机进行通信?](#问题-6-2-能否用你的-pc-进行-一-个简单的实验一个计算机同时和-5-个计算机进行通信)
- [问题 6-3. 互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处?](#问题-6-3-互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处)
- [问题6-4. 连接在互联网上的主机名必须是唯一的吗?](#问题6-4-连接在互联网上的主机名必须是唯一的吗)
- [问题 6-5. 在互联网中通过域名系统查找某个主机的 IP 地址，和在电话系统中通过 114 查号台查找某个单位的电话号码相比，有何异同之处?](#问题-6-5-在互联网中通过域名系统查找某个主机的-ip-地址和在电话系统中通过-114-查号台查找某个单位的电话号码相比有何异同之处)
- [问题 6-6. 一个单位的 DNS 服务器可以采用集中式的一个 DNS 服务器，也可以采用分布 式的多个 DNS 服务器。哪一种方案更好些?](#问题-6-6-一个单位的-dns-服务器可以采用集中式的一个-dns-服务器也可以采用分布-式的多个-dns-服务器哪一种方案更好些)
- [问题 6-7 对 同一个域名 向 DNS 服务器发出好几次的 DNS 请求报文后，每 一次 得到的 IP 地址都不一样。这可能吗?](#问题-6-7-对-同一个域名-向-dns-服务器发出好几次的-dns-请求报文后每-一次-得到的-ip-地址都不一样这可能吗)
- [问题 6-8 当使用 2 Mbit/s 的宽带调制解调器上网时，经常会发现数据下载的速率远 远小于 2 Mbit/s。这是什么原因?](#问题-6-8-当使用-2-mbits-的宽带调制解调器上网时经常会发现数据下载的速率远-远小于-2-mbits这是什么原因)
- [问题 6-9. ARP 和 DNS 是古有些 相似?它们有何区别?](#问题-6-9-arp-和-dns-是古有些-相似它们有何区别)
- [问题 6-10. "网关”和“路由器”是否为同义语?](#问题-6-10-网关和路由器是否为同义语)
- [问题 6-11 我们常在文献上看到“远程登录”这样的名词。它的英文名字应当是 remote log-in 还是 Telnet?](#问题-6-11-我们常在文献上看到远程登录这样的名词它的英文名字应当是-remote-log-in-还是-telnet)
- [问题 6-12 电话通信和电子邮件通信都是使用客户服务器工作力式吗?](#问题-6-12-电话通信和电子邮件通信都是使用客户服务器工作力式吗)
- [问题 6-13. {1电子邮件中，“信封"、“内容”、“首部”、“主体”是个什么样的关系?](#问题-6-13-1电子邮件中信封内容首部主体是个什么样的关系)
- [问题 6-14 在电子邮件的发展过程中， X.400 是个很有名的电子邮件系统。为什么现在不提了?](#问题-6-14-在电子邮件的发展过程中-x400-是个很有名的电子邮件系统为什么现在不提了)
- [问题 6-15. 有的教科书中在讲到电子邮件系统时用到 MTA。这是怎样的概念?](#问题-6-15-有的教科书中在讲到电子邮件系统时用到-mta这是怎样的概念)
- [问题 6-16. 能否更加细致地介绍 一 下 base64 编码?](#问题-6-16-能否更加细致地介绍-一-下-base64-编码)
- [问题 6-17. 能否归纳一下HTTP协议的主要特点?](#问题-6-17-能否归纳一下http协议的主要特点)
- [问题6-18.HTTPI.I 协议比起HTTP1.0协议有哪些主要的变化?](#问题6-18httpii-协议比起http10协议有哪些主要的变化)
- [问题 6-19. 抽象语法、传送语法的主要区别是什么?数据类型、编码以及编码规则的区别又是什么?](#问题-6-19-抽象语法传送语法的主要区别是什么数据类型编码以及编码规则的区别又是什么)
- [习题与解答](#习题与解答)
- [<6-01 > 互联网的域名结构是怎样的?它与目前的电话网的号码结构有何异同之处?](#6-01--互联网的域名结构是怎样的它与目前的电话网的号码结构有何异同之处)
- [【6-02】 域名系统的主要功能是什么?域名系统中的本地域名服务器、根域名服务器、 顶级域名服务器以及权限域名服务器有何区别?](#6-02-域名系统的主要功能是什么域名系统中的本地域名服务器根域名服务器-顶级域名服务器以及权限域名服务器有何区别)
- [<6-03 > 举例说明域名转换的过程。域名服务器中的高速缓存的作用是什么?](#6-03--举例说明域名转换的过程域名服务器中的高速缓存的作用是什么)
- [【6-04】设想 有·大整个互联网的 DNS 系统都瘫痪了 (这种情况不大会出现)，试 问还 有可能 给朋友发 送电子邮件吗?](#6-04设想-有大整个互联网的-dns-系统都瘫痪了-这种情况不大会出现试-问还-有可能-给朋友发-送电子邮件吗)
- [【6-05】文件传送协议 FTP 的主要工作过程是怎样的?为什么说 FTP 是带外传送控制 信息?主进程和从属进程各起什么作用?](#6-05文件传送协议-ftp-的主要工作过程是怎样的为什么说-ftp-是带外传送控制-信息主进程和从属进程各起什么作用)
- [<6-06 > 简单文件传送协议 TFTP 与 FTP 的主要区别是什么?各用在什么场合?](#6-06--简单文件传送协议-tftp-与-ftp-的主要区别是什么各用在什么场合)
- [<6-07 >远程登录TELNET的主要特点是什么?什么叫做虚拟终端NVT?](#6-07-远程登录telnet的主要特点是什么什么叫做虚拟终端nvt)
- [<6-08 > 解释以下名词。各英文缩写词的原文是什么?](#6-08--解释以下名词各英文缩写词的原文是什么)
- [【6-09】 假定 一 个超链从 一个万维网文档链接到另一个万维网文档时，由于万维网文档 上出现了差错而使得超链指向一个无效的计算机名字。这时浏览器将向用户报 告什么?](#6-09-假定-一-个超链从-一个万维网文档链接到另一个万维网文档时由于万维网文档-上出现了差错而使得超链指向一个无效的计算机名字这时浏览器将向用户报-告什么)
- [【6-10】假定要从已知的 URL 获得一个万维网文档。若该万维网服务器的 IP 地址开始 时并不知道。试问:除 HTTP 外，还需要什么应用层协议和运输层协议?](#6-10假定要从已知的-url-获得一个万维网文档若该万维网服务器的-ip-地址开始-时并不知道试问除-http-外还需要什么应用层协议和运输层协议)
- [<6-12 > 什么是动态文档?试举出万维网使用动态文档的一些例子 。](#6-12--什么是动态文档试举出万维网使用动态文档的一些例子-)
- [<6-13 >浏览器同时打开多个TCP连接进行浏览的优缺点如何?请说明理由。](#6-13-浏览器同时打开多个tcp连接进行浏览的优缺点如何请说明理由)
- [【6-14】 当使用鼠标点击一个万维网文档时，若该文档除了有文本 外，还有 一个本地 .gif 图像和两个远地 .gif 图像。试问:需要使用哪个应用程序，以及需要建立几次 UDP 连接和几次 TCP 连接?](#6-14-当使用鼠标点击一个万维网文档时若该文档除了有文本-外还有-一个本地-gif-图像和两个远地-gif-图像试问需要使用哪个应用程序以及需要建立几次-udp-连接和几次-tcp-连接)
- [【6-15】假定你在浏览器上点击一个URL,但这个URL的IP地址以前并没有缓存在本地主机上。因此需要用DNS自动查找和解析。假定要解析到所要找的URL的IP地址共经过n个DNS服务器，所经过的时间分别为RTT1,RTT2,...,RTTn。假定从要找的网页上只需要读取一个很小的图片(即忽略这个小图片的传输时间)。从本地主机到这个网页的往返时间是RTTw。试问从点击这个URL开始，一直到本地主机的屏幕上出现所读取的小图片，一共要经过多少时间?](#6-15假定你在浏览器上点击一个url但这个url的ip地址以前并没有缓存在本地主机上因此需要用dns自动查找和解析假定要解析到所要找的url的ip地址共经过n个dns服务器所经过的时间分别为rtt1rtt2rttn假定从要找的网页上只需要读取一个很小的图片即忽略这个小图片的传输时间从本地主机到这个网页的往返时间是rttw试问从点击这个url开始一直到本地主机的屏幕上出现所读取的小图片一共要经过多少时间)
- [【6-16】 在上题中，假定同一台服务器的 HTML 文件中又链接了三个非常小的对象 。若 忽略这些对象的发送时间，试计算客户点击读取这些对象所需的时间。(I) 没有并行 TCP 连接的非持续 HTTP: (2) 使用并行 TCP 连接的非持续 HTTP: (3) 流水线方式的待续 HTTP。](#6-16-在上题中假定同一台服务器的-html-文件中又链接了三个非常小的对象-若-忽略这些对象的发送时间试计算客户点击读取这些对象所需的时间i-没有并行-tcp-连接的非持续-http-2-使用并行-tcp-连接的非持续-http-3-流水线方式的待续-http)
- [【6-18】一个万维网网点有1000万个页面，平均每个页面有10个超链。读取一个页面平均要100ms。问要检索整个网点所需的最少时间。](#6-18一个万维网网点有1000万个页面平均每个页面有10个超链读取一个页面平均要100ms问要检索整个网点所需的最少时间)
- [<6-19 > 搜索引擎可分为哪两种类型?各有什 么 特点?](#6-19--搜索引擎可分为哪两种类型各有什-么-特点)
- [【6-20】试述电子邮件的最主要的组成部件。用户代理UA的作用是什么?没有UA行不行?](#6-20试述电子邮件的最主要的组成部件用户代理ua的作用是什么没有ua行不行)
- [【6-21 】电子邮件的信封和内容在邮件的传送过程中起什么作用?和用户的关系如何?](#6-21-电子邮件的信封和内容在邮件的传送过程中起什么作用和用户的关系如何)
- [<6-22 > 电子邮件的地址格式是怎样的?请说明各部分的意思。](#6-22--电子邮件的地址格式是怎样的请说明各部分的意思)
- [<6-23 > 试简述SMTP通信的三个阶段的过程。](#6-23--试简述smtp通信的三个阶段的过程)
- [【6-24】试述邮局协议POP的工作过程。在电子邮件中，为什么需要使用POP和SMTP这两个协议?IMAP与POP有何区别?](#6-24试述邮局协议pop的工作过程在电子邮件中为什么需要使用pop和smtp这两个协议imap与pop有何区别)
- [【6-25】MIME与SMTP的关系是怎样的?什么是quoted-printable编码和base64编码?](#6-25mime与smtp的关系是怎样的什么是quoted-printable编码和base64编码)
- [【6-26】 一个二进制文件共 3072 字节长。若使用 base64 编码，并且每发送完 80 字节就 插入 一 个回车符 CR 和 一 个换行符 LF, 问一共发送了多少个字节?](#6-26-一个二进制文件共-3072-字节长若使用-base64-编码并且每发送完-80-字节就-插入-一-个回车符-cr-和-一-个换行符-lf-问一共发送了多少个字节)
- [<6-27 > 试将数据 110011OO I000000I 00111000 进行 base64 编码，并得出最后传送的ASCII数据。](#6-27--试将数据-110011oo-i000000i-00111000-进行-base64-编码并得出最后传送的ascii数据)
- [【6-28】 试将数据 01001100 10011101 00111001 进行 quoted-prinable 编码，并得出最后传达的ASCII数据。这样的数据用quoted-printable编码后，其编码开销有多大?](#6-28-试将数据-01001100-10011101-00111001-进行-quoted-prinable-编码并得出最后传达的ascii数据这样的数据用quoted-printable编码后其编码开销有多大)
- [【6-29】电子邮件系统需要将人们的电 子邮件地址编成目录以便于查找。要建立这种目 录应将人名划分为几个标准部分(例如，姓、名)。若要形成一个国际标准， 那么必须解决哪些问题?](#6-29电子邮件系统需要将人们的电-子邮件地址编成目录以便于查找要建立这种目-录应将人名划分为几个标准部分例如姓名若要形成一个国际标准-那么必须解决哪些问题)
- [【6-30】电子邮件系统使用 TCP 传送邮件 。 为什么有时我们会遇到邮件发送失败的情 况?为什么有时对方会收不到我们发送的邮件?](#6-30电子邮件系统使用-tcp-传送邮件--为什么有时我们会遇到邮件发送失败的情-况为什么有时对方会收不到我们发送的邮件)
- [【6-31 】基于万维网的电子邮件系统有什么特点?在传送邮件时使用什么协议?](#6-31-基于万维网的电子邮件系统有什么特点在传送邮件时使用什么协议)
- [【6-32】 DHCP 协议用在什么情况下? 当一台计算机第一次运行引导程序时，其 ROM 中有没有该主机的 IP 地址、子网掩码，或某个域名服务器的 IP 地址?](#6-32-dhcp-协议用在什么情况下-当一台计算机第一次运行引导程序时其-rom-中有没有该主机的-ip-地址子网掩码或某个域名服务器的-ip-地址)
- [【6-33】什 么是网络管理?为什么说网络管理是当今网络领域中的热门课题?](#6-33什-么是网络管理为什么说网络管理是当今网络领域中的热门课题)
- [<6-34 > 解释下列术语:网络元素、被管对象、管理进程、代理进程。](#6-34--解释下列术语网络元素被管对象管理进程代理进程)
- [<6-35 > SNMP 使用 UDP 传送报文。为什么不使用 TCP?](#6-35--snmp-使用-udp-传送报文为什么不使用-tcp)
- [【6-36】为什么SNMP的管理进程使用探询掌握全网状态属千正常情况，而代理进程用陷阱向管理进程报告属于较少发生的异常情况?](#6-36为什么snmp的管理进程使用探询掌握全网状态属千正常情况而代理进程用陷阱向管理进程报告属于较少发生的异常情况)
- [【6-37】 SNMP使用哪几种操作?SNMP在Get报文中设置了请求标识符字段，为什么?](#6-37-snmp使用哪几种操作snmp在get报文中设置了请求标识符字段为什么)
- [<6-38 > 什么是管理信息库MIB?为什么要使用MIB?](#6-38--什么是管理信息库mib为什么要使用mib)
- [<6-39 > 什么是管理信息结构 SMI? 它的作用是什么?](#6-39--什么是管理信息结构-smi-它的作用是什么)
- [<6-40 > 用 ASN.1 基本编码规则对以下 4 个数组 (SEQUENCE-OF)进行编码。假定每一 个数字占用 4 个字节 。2345, 1236, 122, 1236](#6-40--用-asn1-基本编码规则对以下-4-个数组-sequence-of进行编码假定每一-个数字占用-4-个字节-2345-1236-122-1236)
- [<6-41 > SNMP 要发送 一 个icmplnPam面 obs 的值。在 icmp 中变量 icmplnParmProbs 的标号是 (5), 它是一 个计数器，用来统计收到的类型为参数问题的 ICMP 差错报告报文的数目。 试给出这个 GetRequest 报文的编码 。](#6-41--snmp-要发送-一-个icmplnpam面-obs-的值在-icmp-中变量-icmplnparmprobs-的标号是-5-它是一-个计数器用来统计收到的类型为参数问题的-icmp-差错报告报文的数目-试给出这个-getrequest-报文的编码-)
- [【6-42】对象 tcp 的 OBJECT IDENTIFIER 是什么? 解答: {l.3.6.l.2.l.6}](#6-42对象-tcp-的-object-identifier-是什么-解答-l36l2l6)
- [【6-43】在 ASN.I 中， IP地址(IPAddress)的类别是应用类。若 IPAddress= 131.21.14.2, 试求其 ASN.l 编码。](#6-43在-asni-中-ip地址ipaddress的类别是应用类若-ipaddress-13121142-试求其-asnl-编码)
- [【6-44】什么是应用编程接口 API? 它是应用程序和谁的接口?](#6-44什么是应用编程接口-api-它是应用程序和谁的接口)
- [<6-45 > 试举出常用的几种系统调用的名称，说明它们的用途。](#6-45--试举出常用的几种系统调用的名称说明它们的用途)
- [<6-46> 图T-6-46表示了各应用协议在层次中的位置。](#6-46-图t-6-46表示了各应用协议在层次中的位置)
- [【6-47】 现在流行的 P2P 文件共享应用程序都有哪些特点?存在哪些值得注意的问题?](#6-47-现在流行的-p2p-文件共享应用程序都有哪些特点存在哪些值得注意的问题)
- [【6-48】 使用客户-服务器方式进行文件分发。一台服务器把一个长度为 F的大文件分发给 N 个对等方。假设文件传输的瓶颈是各计算机(包括服务器)的上传速率 u。试计算文件分发到所有对等方的最短时间。](#6-48-使用客户-服务器方式进行文件分发一台服务器把一个长度为-f的大文件分发给-n-个对等方假设文件传输的瓶颈是各计算机包括服务器的上传速率-u试计算文件分发到所有对等方的最短时间)
- [【6~49】 重新考虑上题的文件分发任务，但采用 P2P 文件分发方式，并且每个对等方只能在接收完整个文件后才能向其他对等方转发。试计算文件分发到所有N个对等方的最短时间。](#649-重新考虑上题的文件分发任务但采用-p2p-文件分发方式并且每个对等方只能在接收完整个文件后才能向其他对等方转发试计算文件分发到所有n个对等方的最短时间)
- [【6-50】 再重新考虑上题的文件分发任务，但可以把这个非常大的文件划分为一个个非常小的数据块进行分发，即一个对等方在下载完一个数据块后就能向其他对等方转发，并同时可下载其他数据块。不考虑分块增加的控制信息，试计算整个大文件分发到所有对等方的最短时问 。](#6-50-再重新考虑上题的文件分发任务但可以把这个非常大的文件划分为一个个非常小的数据块进行分发即一个对等方在下载完一个数据块后就能向其他对等方转发并同时可下载其他数据块不考虑分块增加的控制信息试计算整个大文件分发到所有对等方的最短时问-)
### 问题 6-1. 我们经常这样说:“两个计算机进行通信”。我们应当怎样理解这句话? 解答:这个 问题一定要弄清楚 。
“两个计算机进行通信”是 很常用的说法 ，我们的教材中也常常使用这种说法。这种说 法的好处就是简单、方便，但是，我们必须深刻理解这句话的含义。
严格来讲，计算机之间的通信，归根到底，是计算机中**运行的程序**和另一个计算机(或本计算机)中**运行的程序**进行通信 。也就是说 ，是计算机中的**进程**和**另一个进程**(另一个计算机中的或本计算机中的)进行通信。进程就是运行着的程序 。但为简单起见，大家就常常说成是“两个计算机进行通信” 。这样的简便说法并没有什么错误，但我 们应当对这种说法有 个正确的理解 。
有时，将“计算机”和“计算机中的进程”区分开来是很必要的。因为有时在一个计算机中同时运行多个进程，而 每一个进程都在 和其他计算机的进程进行通信 。如果笼统 地说一个计算机同时和多个计算机进行通信，那么就比较含糊 。在这种情况下，用进程之间的通信就容易把问题讲清楚 。
当然，连接在互联网上的计算机中的进程在进行通信时，还要使用 TCP/IP协议族。否则 进程之间是无法进行通信的 。

### 问题 6-2. 能否用你的 PC 进行 一 个简单的实验:一个计算机同时和 5 个计算机进行通信? 
解答: 这很容易实现。用你的 PC 上网(用什么具体手段都行)。连续打开 PC 中的浏览器程序 5 次，这样就在PC 的屏 幕上出现 5 个浏览器的窗口。然后迅速在不同的浏览器窗口一个接着一个地访问 5个不同的网站，并进行文件下载。这时你可以看见 5 个不同的文件同时从不同的远地服务器下载到你的 PC 的硬盘中 。
你的 PC 只有一个 CPU。从微观上看， 一 个 CPU 在同 一个时间只能做一件事。 CPU执行计算机指令的速度非常快，因此它可以轮流处理 PC 中的 5 个进程和远地的另外 5 个进程之间 的通信任务。但从我们眼睛看屏幕所得到的宏观感觉，好像 CPU 是在同时处理这 5 件任务。

### 问题 6-3. 互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处? 
解答:
相同之处:
电信网:允许一个电话机向另一个电话机发出呼叫请求(即拨打另一个电话机的号码)。互联网:允许一个程序向另一个程序发出呼叫请求(即主动发出要求通信的请求)。
不同之处 :
电信网:两个电话机都处千不通话状态时(即都处于挂机状态时), 主叫方摘机并拨号进行呼叫，被叫方听到铃响并摘机后，双方开始进行通话 。 也就是说，主叫方通过自己的振铃 可以使被叫方的电话机变为通话状态(当然要通过被叫人的摘机动作)。
互联网:当被叫程序处千运行状态时，主叫程序发出通信请求，被叫程序同意进行通信后，双方程序开始进行通信。但如果被叫程序没有处在运行状态，则主叫程序无法使被叫程序变为运行状态。在这种情况下，双方的通信是不可能的。因此，计算机程序之间的通信的 一个很重要 的特点就是:**披叫程序必须始终处于运行状态** 。通常将主叫程序称为 客户程序， 而被叫程序称为服务器程序。


### 问题6-4. 连接在互联网上的主机名必须是唯一的吗?
解答:这是肯定的。 互联网不允许有两个(或更多的)主机具有同样的主机名。 但是必须注意，这里所说的“**主机名**”指的是主机的“**全名**" (full name), 它也就是“**主机的域名**“，而不是指 一个主机的 “**本地名字**”。 例如，很多单位的网站服务器主机的本地名字都愿意取为 www。这主要是为了便千记忆，使人一看见这 WWW, 就知道这个计算机是用来存放该单位网页信息的，使得人们可以利用HTTP 协议来访问这个网站 。所以当我 们看到下面这样的网址: http://www.google.com就应当很明确，在**整个互联网范围中唯一的主机名**就是 www.google.com。
但应注意，主机名有两种，即**全名和本地名字**(local name)。虽然主机的**全名**在互联网上 必须是唯一的，但主机的**本地名字**只需要在本级域名下是唯一的即可。例如， ".google"是 在顶级域名 ".com" 下注册的二级域名。 WWW 是这个主机在二级域名 ".google" 下的本地 名字。全世界有很多的主机使用相同的本地名字(例如， ;,.WW 或 ma过)，但这并不会产生混 乱。我们可以看出，如果 google 将其网站主机的本地名字取为其他的名字 xyz, 那么它的 网址就要变成:
http://xyz.google.com
但这样做并没有什么好处，只能给别人增加一些记忆上的麻烦。
我们还要指出，虽然主机名在互联网中必须是唯一的， IP地址在互联网中也必须是唯一 的，但**一个主机名却可以对应多个 IP地址**。关于这个问题请参考问题 6-7。

### 问题 6-5. 在互联网中通过域名系统查找某个主机的 IP 地址，和在电话系统中通过 114 查号台查找某个单位的电话号码相比，有何异同之处?
解答:
相同之处:
电话系统:在电话机上只能拨打被叫用户的电话号码才能进行通信。 114 查号台将被叫用户名字转换为电话号码告诉主叫用户。
互联网:在 IP 数据报上必须填入目的主机的 IP 地址才能发送出去。 DNS 域名系统将目的主机名字解析为(即转换为) 32 位的 IP 地址返回给源主机。
不同之处:
电话系统:必须由主叫用户拨打 114 才能进行查号。如果要查找非本市的电话号码，则 必须拨打长途电话。例如，要在南京查找北京的民航售票处的电话号码，则南京的 114 台无法给你回答。你在南京必须拨打 010-1 14 (长途电话)进行查询。
互联网:只要源主机上的应用程序遇到目的主机名需要转换为目的主机的 IP地址，就由源主机自动向域名服务器发出 DNS 查询报文。不管最后将该主机的域名解析出来的 DNS 服务器距离源主机有多远，它都能自动将解析的结果最后返回给源主机。所有这些复杂的查询过程对用户来说都是透明的。用户感觉不到这些域名解析过程。
有一种方法可以使用户体会到域名解析是需要一些时间的。在使用浏览器访问某个远地 网站时，将 URL 中的域名换成为它的点分十进制 IP 地址，看找到这个网站时是否会节省一些时间。

### 问题 6-6. 一个单位的 DNS 服务器可以采用集中式的一个 DNS 服务器，也可以采用分布 式的多个 DNS 服务器。哪一种方案更好些?
解答:这要从多方面来考虑，没有简单的答案。
从解析域名的速度 来看，在集中式的一个 DNS 服务器上进行域名解析应当比在多个分布 式的 DNS 服务器要快些。 但从管理的角度看，分层次的多级结构和分布式的 DNS 服务器要 方便得多。从计算速度方面 来考虑，一个服务器若负荷过重就会使计算速度变慢 。一 个小单位如果很少发生同时请求域名的解析，那么一个单个的域名服务器就能很好地工作。

### 问题 6-7 对 同一个域名 向 DNS 服务器发出好几次的 DNS 请求报文后，每 一次 得到的 IP 地址都不一样。这可能吗?
解答: 可能。
例如，对域名 www.yahoo.com进行解析就会出现这样的结果。产生这样的结果是这个 域名对应[多个 IP 地址 。
一个域名为什么要对应多个 IP地址呢?一般的域名没有这个必要。但有的网站的访问量 非常人。为了使 Yahoo 这个万维网服务器的负载得到平衡(因为每天访问这个站点的次数非 常多)。因此 Yahoo 网站 就设有好几个计算机，每一个计算机都运行同样的服务器软件。这些 计算机的 **IP 地址当然都是不一 样的，但它们的域名却是相同的**。这样，第一个访问该网址的 就得到第一个计算 机的 IP 地址，而第 二 个访问者就得到第二个计算机的 IP 地址，等等 。 这 样可使 Yahoo 网站所屈的各服务 器的负荷比较均匀。这就叫做**负载平衡**。

### 问题 6-8 当使用 2 Mbit/s 的宽带调制解调器上网时，经常会发现数据下载的速率远 远小于 2 Mbit/s。这是什么原因?
解答 :从你点击的万维网服务 器到你的 PC 的整个路径上，只要有一个地方出现瓶颈，数据传输的速率就要下降。
可能出现瓶颈的地力很多，如:
(I) 你所点击的万维网服务器现在访问它的用户太多，该服务器忙不过来。 
(2) 路径上某个地方出现网络拥塞，在路由器的缓存队列中排队的时间过长。 
(3) 你使用的 ISP 容陪不够大 ，上网的用户太多， ISP忙不过来 。

### 问题 6-9. ARP 和 DNS 是古有些 相似?它们有何区别?
解答:如果 说 ARP 和 DNS 有相似之处，那么这仅仅是在形式上都是主机发送出请求，然后从相应的服务器收到所需的回答。另外一点是这两个协议经常是连在 起使用的，但重要的是 :这两个协议是完全不同的 。
DNS 是应用层协议，用来请求域名服务器将连接在互联网上的某个上机的戌名韶析为 32 位的 IP 地址。在大多数情况下，本地的域名服务器很可能还不知道所请求主机的 IP 地址， 于是还要继续寻找其他的域名服务器 。这样很 可能要在互联网上寻找多次才能得到所需的结果，最后将结果发送给原来发出请求的主机(见教材的 6.1.3 节)。
ARP 是网络层协议(也有人认为它属于链路层)，它采用广播方式请求将连在本以太网上的某个主机或路由器的 32 位的 IP 地址，解析为 48 位的以人网硬件地址。

### 问题 6-10. "网关”和“路由器”是否为同义语?
解答: 在问题 4-2 中 我们已经讲过，当使用在 "IP 网关”或 "IP 路由器”中时，它们是 同义语，只不过“网关”是旧的名词 。在比较老的 RFC 文档中 经常使用的是“网关” ，实际 上就是 “路由器”。
但在某些情况下，则“网关”并不等于“路由器”，例如在电子邮件系统中的"e-mail gateway" 就属千一种应用网关，它不是路由器。

### 问题 6-11 我们常在文献上看到“远程登录”这样的名词。它的英文名字应当是 remote log-in 还是 Telnet?
这个名词有 一 个特点，就是一个中文名词对应了几个英文名词。
log-in 的标准译名是“注册"，又称“登录”。 因此“远程登录”应当可以理解为 "remote log-in"。
然而在 1997 年 7 月 18 日发布的“全国科学技术名词审定委员会推荐名(-) "中，将 Telnet 的中 文推荐名规定为“远程登录”，并在其注释中注明:”指互联网 (Internet)的远程登录服务，它允许 一 个用户登录到 一 个远程计算机系统中， 就好像用户端直接与远程计算机相连 一样。”
这表明 "Remote Login" 和 "TELNET" 以及简化 写法 "Rlogin" 都具有相同的 意思。但 在 Corner 一书中指出了 **TELNET 是远程登录服务的 TCP/IP 标准协议**。因此当我们看到“远程登录”时，应当联系上下文，看它指的是 一种 服务， 心是一种 协议 。应当记得，我们多次 强调过，服务和协议是很不一样的 。

### 问题 6-12 电话通信和电子邮件通信都是使用客户服务器工作力式吗?
解答: 互联网的电子邮件通信，当然是使用客户服务器工作方式。传统的电话通信虽然 有主叫方和被叫方(主叫方先拨号，被叫方摘机，然后通话)，但**电话通信的工作方式并不是客户服务器方式** 。然而新型的 IP 电话(使用 H.323 协议或 SIP 协议)则使用了客户服务器的工作 方式。

### 问题 6-13. {1电子邮件中，“信封"、“内容”、“首部”、“主体”是个什么样的关系?
解答 :邮件服务器依据电子邮件 信封上的信息， 将邮 件传送到目的邮件服务器。电子邮件中的“ 内容”也 称为“ 报文 " (message), 它就是用户所
写的信件。
美国人写信时，在一开始还要有**信头 (heading)**和**封内地址**(inside address)这两部分。信头是发信人的地址和日期，而封内地址是收信人的地址。因此电子邮件也必须有这两项。这两项合起来就叫做电子邮件的内容部分中的 **“首部“**，而**首部后面才是内容中的主体部分** 。
总之，电子邮件=信封+内容 内容=首部+主体 ；用户只需将内容写好，交给用户代理。用户代理自动地从内容的首部中提取有关信息， 写到信封上，交给邮件服务器发送邮件。

### 问题 6-14 在电子邮件的发展过程中， X.400 是个很有名的电子邮件系统。为什么现在不提了?
解答：1982 年，基千 TCP/IP 的 电子邮件系统 SMTP 才被提出来 [RFC 821], 并成为了互联网的正式标准，编号是 STD 10。
那个时期， ISO 还提出了一个 OSI 体系结构。在 OSI 的应用层也设计了一 个电子邮件系统，这就是写在 CCITT 的 X.400 建议书中的报文处理系统 MHS。虽然 MHS 比 SMTP 的功能丰富得多，然而，由于 MHS 比 SMTP 也复杂得多，它最终还是和 OSI 一起被 淘汰了。因此，现在用在互联网上的电子邮件系统全是 SMTP。这也再次证明了“简单者生 存”的规律。达尔文的进化论中提到“适者生存”，在互联网中，“适者”就是“简单者”。


### 问题 6-15. 有的教科书中在讲到电子邮件系统时用到 MTA。这是怎样的概念?
解答: 实际上，MTA的概念是CCITT的X.400提出的。MTA是Mail Transfer Agent的缩写，表示“邮件传送代理”，而与所使用的电子邮件协议无关。在网络中，电子邮件都是通过MTA来传送的。MTA也分客户端和服务器端。因此，在讲述电子邮件工作原理时，使用MTA是一种很好的通用名词。虽然MTA是X.400中提出的术语，但IETF还是接受了这个术语。在1993年发布的RFC1506还专门讨论了这两个不同的邮件系统的互连问题 。
因此，下面的一些意思相同的名词都是可能在有关电子邮件的文献中出 现，请读者注意。 在 RFC 821 中使用的名词:
SMTP-sender, SMTP-receiver (SMPT发送端，SMTP接收端)
在RFC2821中使用的名词:
SMTP-client,SMTP-server(SMTP客户端，SMTP服务器端)使用通用的名词MTA时:
MTA-client,MTA-server(MTA客户端，MTA服务器端)

### 问题 6-16. 能否更加细致地介绍 一 下 base64 编码?
解答:在这里只对教材上的内容做 一些补充，更详细的描述见 [RFC 2045]。 首先要对二进制比特流进行 24 位到 32 位的变换(每 6 位变换为 8 位的字符)，
Base64 变换又称为 Radix-64 编码。
Base64 变换的编码表是一个包含 65 个字符的 ASCII 码子集。
待编砃的每一个6 位组的值一定在0-63之间，因此一定可以按照上表变换为某一个可打印的 ASCII 码，这样就可以用电子邮件传送了 。 到接收瑞再进行反变换就可恢复出原来的二进制比特流。
不难看出，经过 base64 编码后 ，增加了 33.3%的开销 (6 位变换成为 8 位)，或者说，在网络上传送的数据中，有25%的开销(8 位中的2位是进行编砃变换时增加的) 。


### 问题 6-17. 能否归纳一下HTTP协议的主要特点?
解答:下面归纳了 HTTP 1.0 的主要特点。
(I) 应用层协 议 。HTTP 是 一 个应用层协议。 HTTP 使用可靠的、面向连接的运输协议 TCP,但 HTTP 协议本身并不提供可靠性机制和重传机制。
(2) 请求/响应 。一 旦建立了运输连接(这常常称为建立了会话)，浏览器端就向万维网服务器端发送 HTTP 请求，服务器收到请求后给出 HTTP 响应。
(3) 无状态。“无状态" (stateless)就是指每一个 HTTP 请求都是独立的 。 万维网服务器不保存过去的请求和过去的会话记录。这就是说，同一个用户再次访问同一个服务器时，只要 服务器没有进行内容的更新 ， 服务器的响应就给出和以前被访问时相同的响应。服务器不记 录曾经访问过的用户，也不记录某个用户访问过多少次。
(4) 双向传输。这在大多数情况下都是这样的 : 浏览器发出 HTTP 请求，服务器给出 HTTP 响应 。
(5) 能力协商。 HTTP允许浏览器和服务器协商一些细节，如在传送数据时使用的字符集。 发送端可指明它所能够提供的能力 (capability), 而接收端也能够指明它所能够接受的能力。
(6) 支持高速缓存。为了缩短响应时间，浏览器可将读取的万维网页面暂存在其高速缓存中 。 如果用户再次请求该页面，则 HTTP 允许浏览器可以对服务器进行查询，以便确定自从上次缓存了该页面后页面的内容是否有变化。
(7) 支持代理服务器。HTTP允许在浏览器和服务器之间存在一个代理服务器。代理服务器将万维网页面存放在自己的缓存中，并且从这缓存中取出页面回答浏览器的请求。

### 问题6-18.HTTPI.I 协议比起HTTP1.0协议有哪些主要的变化?
解答: HTTPI.I的最主要的变化就是改变了HTTP1.0的“无状态”这一特点。 我们知道，当用户访问某个网站时，假定该网页上有一个文本文件和 15个图形文件，那么用户要和这个万维网服务器建立总共 16 次的 TCP 连接，才能将这 16 个文件全部下载完 。 浏览器在和服务器建立好一个 TCP 连接后，就发送 HTTP 请求 ，然后得到服 务器的 HTTP 响 应，传送过来一个文件(文字的或图形的)，然后就自动断开 TCP 连接了。当点击下一个链 接时，又重复以上的步骤。
HTTP I.I 将 HTTP 1.0 的“无状态”这个特点改变了。 HTTP I.I 采用持续连接 (persistent connection)作为默认的工作方式。当浏览器和某一万维网服务器建立 TCP连接后，就可以在 同一个 TCP 连接上，传送多次的 HTTP 请求和 HTTP 响应。当浏览器或服务器要关闭 TCP 连接时，就通知对方，然后再关闭连接。
待续连接最大的好处就是减小了开销。减小了建立 TCP 连接的次数， 就减小了服务器的负担，缩短了响应时间 ，同时也减小了下层网络的开销，减少了缓存所占用的存储空间，也减少了使用的 CPU 时间 。 使用持续连接的浏览器还可以进 一 步优化对网站的访问，这就是采用流水线式的请求，即可以连续地发送请求，而不需要在收到响应后才发送下4个请求。当需要在某个页面读取多个图像文件而下层互连网络的吞吐量和时延都很大时，采用流水线式的请求就格外显得优点突出。
使用持续连接是要付出代价的。在建立TCP连接后，不论是浏览器还是服务器都不知道这个特定的TCP连接将要待续多长时间。这对服务器来说是个很主要的问题，因为可能有几于个浏览器要和这个服务器建立连接。我们应当注意到，只有连接的双方都关闭连接，TCP连接才会完全关闭。服务器端应当设置一个超时计时器，以便当一定时间内没有收到请求就可关闭这个连接。客户端和服务器端都必须注意对方是否关闭了TCP连接。若发现对方关闭了连接，那么自己这一端也应当随即关闭这个TCP连接。

### 问题 6-19. 抽象语法、传送语法的主要区别是什么?数据类型、编码以及编码规则的区别又是什么?
下面是根据 OSI 的定义对上述名词的解释 。 本教材没有介绍OSI的表示层，而TCP/IP的体系结构里也没有表示层。因此在使用TCP/IP协议族的互联网中，通信的发送端和接收端必须在其应用层协议中解决数据格式的问题。如果在发送瑞和接收端使用不同的数据格式，那么至少有一方应当完成数据格式的转换问题。
抽象语法
抽象语法描绘了与任何表示数据的编码技术无关的通用数据结构
抽象语法使得人们能够定义数据类型，并指明这些类型的值
传送语法 
当数据在两个表示层实体之间传输时，这些数据的实际比特模式表示方法就是传送语法
数据类型
一 组具名值 。一 个数据类型可能是简单的，它通过指明 一 组值来定义;也可能是结构化的，它的定义中使用了其他 一 些类型
编码 用来表示数据值的完整的八位组序列
编码规则
从一个语法到另一个语法的映射规约。具体地说，编码规则从算法上定义了任何 一 组由抽象语法定义的 数据值在传送语法中的表示
抽象语法只描述数据的结构形式，与具体的编码格式无关，同时也不涉及这些数据结构在计算机内如何存放。图 Q-6-19 以两个端系统通过网络交换数据为例来说明上述的一些概念。
 运输实体所看到的数据是应用实体交下来的、根据一定的编码规则进行编码的二进制代码。但应用实体看到的则是一个用户观点的数据，通常是结构化的信息，如文本文档或可显示的图像信息。用户主要关心的是数据的语义。因此应用实体必须提供数据的表示方法，使得这些数据能够转换为二进制值。也就是说，应用实体必须考虑到数据的语法。

### 习题与解答
### <6-01 > 互联网的域名结构是怎样的?它与目前的电话网的号码结构有何异同之处?
解答:互联网的域名系统DNS(DomainNameSystem)被设计成为一个联机分布式数据库系统，并采用客户服务器方式。互联网的域名结构采用了层次树状结构的命名方法，就像全球邮政系统和电话系统那样。采用这种命名方法，任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名。”域”是名字空间中一个可被管理的划分。域还可以划分为子域，而子域还可继续划分为子域的子域，这样就形成了顶级域、二级域、三级域，等等。
从语法上讲，每一个域名都是由标号序列组成的，而各标号之间用点隔开。
DNS规定，域名中的标号都由英文字母和数字组成，每一个标号不超过63个字符，也不区分大小写字母。标号中除连字符(-)外不能使用其他的标点符号。级别最低的域名写在最左边，而级别最高的顶级域名则写在最右边。由多个标号组成的完整域名总共不超过255个字符。DNS既不规定一个域名需要包含多少个下级域名，也不规定每一级的域名代表什么意思。各级域名由其上一级的域名管理机构管理，而最高的顶级域名则由ICANN进行管理。用这种方法可使每一个域名在整个互联网范围内是唯一的，并且也容易设计出一种查找域名的机制。
互联网的域名结构与目前的电话网的号码结构的相同点:
互联网的域名结构与目前的电话网的号码结构都是树状结构，每一个域名和每一个电话号码在系统中都是唯一的。
不同点:
打电话时按号码打即可，但在互联网中，还不能按域名直接通信，必须经过域名系统进行从域名到IP地址的转换(这个过程称为解析)。得到了IP地址，才能进行通信。
固定电话号码可以反映出地理位置。例如，固定电话号码(8625)xxxxxxxx的地理位置肯定在中国南京，但如果使用类别域名，则域名与地理位置并无对应关系。例如，在.com下注册的域名abc.com,就可能位千世界上任何一个国家。如果使用行政区域名，则域名与行政区有对应关系。例如，域名abc.js.cn就对应于地理位置在中国江苏省的某个公司或机构。

### 【6-02】 域名系统的主要功能是什么?域名系统中的本地域名服务器、根域名服务器、 顶级域名服务器以及权限域名服务器有何区别?
解答:域名系统DNS是互联网使用的命名系统，用来把便千人们使用的机器名字转换为IP地址。在域名系统中使用了层次结构的许多域名服务器。
本地域名服务器离用户较近，一般不超过几个路由器的距离。当一个主机发出DNS查询请求时，这个查询咱求报文就发送给本地域名服务器。当所要查询的主机也属千同一个本地ISP时，该本地域名服务器立即就能将所查询的主机名转换为它的IP地址，而不需要再去询问其他的域名服务器。
根域名服务器是最高层次的域名服务器，也是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和IP地址。根域名服务器是最重要的域名服务器，因为不管是哪一个本地域名服务器，若耍对互联网上任何一个域名进行解析(即转换为IP地址)，只要自己无法解析，就首先要求助千根域名服务器。
顶级域名服务器负责管理在该顶级域名服务器注册的所有二级域名。当收到DNS查询请求时，就给出相应的回答(可能是最后的结果，也可能是下一步应当找的域名服务器的IP地址)。
一个服务器所负责管辖的(或有权限的)范围叫做区。各单位根据具体情况来划分自己管辖范围的区。但在一个区中的所有节点必须是能够连通的。每一个区设置相应的权限域名服务器，用来保存该区中的所有主机的域名到IP地址的映射。因此，权限域名服务器是负责一个区的域名服务器。当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的DNS客户，下一步应当找哪一个权限域名服务器。

### <6-03 > 举例说明域名转换的过程。域名服务器中的高速缓存的作用是什么?
解答域名到IP地址的解析过程的要点如下:当某一个应用进程需要把主机名解析为IP地址时，该应用进程就调用解析程序，并成为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报方式发给本地域名服务器(使用UDP是为了减少开销)。本地域名服务器在查找域名后，把对应的IP地址放在回答报文中返回。应用进程获得目的主机的IP地址后即可进行通信。
若本地域名服务器不能回答该请求，则此域名服务器就暂时成为DNS中的另一个客户，并向其他域名服务器发出查询请求。这种过程直至找到能够回答该请求的域名服务器为止。
为了提高域名服务器的可靠性，DNS域名服务器都把数据复制到几个域名服务器来保存，其中的一个是主域名服务器，其他的是辅助域名服务器。当主域名服务器出故障时，辅助域名服务器可以保证DNS的查询工作不会中断。主域名服务器定期把数据复制到辅助域名服务器中，而更改数据只能在主域名服务器中进行。这样就保证了数据的一致性。
主机向本地域名服务器的查询一般都是采用递归查询。本地域名服务器向根域名服务器的查询通常是采用迭代查询。根域名服务器通常是把自已知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地域名服务器下一步应当向哪一个权限域名服务器进行查询，本地域名服务器就这样进行迭代查询。最后，知道了所要解析的域名的IP地址，然后把这个结果返回给发起查询的主机。当然，本地域名服务器也可以采用递归查询，这取决千最初的查询请求报文的设置是要求使用哪一种查询方式。递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。
为了提高DNS查询效率，并减轻根域名服务器的负荷和减少互联网上的DNS查询报文数量，在域名服务器中广泛地使用了高速缓存(有时也称为高速缓存域名服务器)。高速缓存 用来存放最近查询过的域名，以及从何处获得域名映射信息的记录。

 ### 【6-04】设想 有·大整个互联网的 DNS 系统都瘫痪了 (这种情况不大会出现)，试 问还 有可能 给朋友发 送电子邮件吗?
解答:有可能，如果你能够直接使用对方的邮件服务器的 IP 地址 。

### 【6-05】文件传送协议 FTP 的主要工作过程是怎样的?为什么说 FTP 是带外传送控制 信息?主进程和从属进程各起什么作用?
解答: FTP使用客户服务器方式。一个FTP服务器进程可同时为多个客户进程提供服务。FTP的服务器进程由两大部分组成:一个主进程，负责接受新的请求;另外有若干个从属进程，负责处理单个请求。
主进程的工作步骤如下:
(I)打开熟知端口(端口号为2I),使客户进程能够连接上。
(2)等待客户进程发出连接请求。
(3)启动从属进程来处理客户进程发来的请求。从属进程对客户进程的请求处理完毕后即终止，但从属进程在运行期间根据需要还可能创建其他一些子进程。
(4)回到等待状态，继续接受其他客户进程发来的请求。主进程与从属进程的处理是并发进行的。服务器端有两个从属进程:控制进程和数据传送进程。在客户端除了控制进程和数据传送进程外，还有一个用户界面进程用来和用户接口。
在进行文件传输时，FTP的客户和服务器之间要建立两个并行的TCP连接:“控制连接”和“数据连接"。控制连接在整个会话期间一直保持打开，FTP客户所发出的传送请求，通过控制连接发送给服务器端的控制进程，但控制连接并不用来传送文件。实际用千传输文件的是“数据连接"。服务器端的控制进程在接收到FTP客户发送来的文件传输请求后，就创建“数据传送进程”和“数据连接"，用来连接客户端和服务器端的数据传送进程。数据传送进程实际完成文件的传送，在传送完毕后关闭“数据传送连接”并结束运行。由千FTP使用了一个分离的控制连接，因此FTP的控制信息是带外(outofband)传送的。我们知道，传送数据一般都是在带内传送的。FTP的控制信息不在数据连接中传送，而是在控制连接中传送。”带外”这个名词就是这样的含义。

### <6-06 > 简单文件传送协议 TFTP 与 FTP 的主要区别是什么?各用在什么场合? 
解答:简单文件传送协议TFTP(TrivialFileTransferProtocol),它是一个很小且易千实现的文件传送协议。虽然TFTP也使用客户服务器方式，但它使用UDP数据报，因此TFTP需要有自己的差错改正措施。FTP使用TCP传送数据，因而是很可靠的。但正因如此，FTP就比TFTP复杂得多。TFTP只支持文件传输而不支持交互。TFTP没有一个庞大的命令集，没
有列目录的功能，也不能对用户进行身份鉴别。
TFTP的主要优点有两个:第一，TFTP可用于UDP环境;第二，TFTP代码所占的内存较小。
TFTP的工作很像停止等待协议。发送完一个文件块后就等待对方的确认，确认时应指明所确认的块编号。发完数据后在规定时间内收不到确认就要重发数据PDU。发送确认PDU的一方，若在规定时间内收不到下一个文件块，也要重发确认PDU。这样就可保证文件的传送不致因某一个数据报的丢失而告失败。
当我们只需要复制一个文件而不需要FTP协议的功能时，就只需要一个能够迅速复制这些文件的协议，TFTP就是一个很好的选择。

### <6-07 >远程登录TELNET的主要特点是什么?什么叫做虚拟终端NVT?
解答:TELNET是一个简单的远程终端协议，它也是互联网的正式标准。用户使用TELNET就可在其所在地通过TCP连接注册(即登录)到远地的另一个主机上。TELNET能将用户的击键传到远地主机，同时也能把远地主机的输出通过TCP连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上的。因此，TELNET又称为终端仿真协议。
为了适应这种差异，TELNET定义了数据和命令应怎样通过互联网。这些定义就是所谓的网络虚拟终端NVT(NetworkVirtualTerminal)。客户软件把用户的击键和命令转换成NVT格式，并送交服务器。服务器软件把收到的数据和命令，从NVT格式转换成远地系统所需的格式。向用户返回数据时，服务器把远地系统的格式转换为NVT格式，本地客户再从NVT格式转换到本地系统所需的格式。

### <6-08 > 解释以下名词。各英文缩写词的原文是什么?
WWW, URL, HTTP, HTML, CGI. 浏览器，超文本，超媒体，超链，页面，活动文档，搜索引擎。
WWW (World Wide Web)是万维网的英文缩写词 。万维网并非某种特殊的计算机网络，它 是一个大规模的、联机式的信息储藏所，英文简称为 Web。万维网用链接的方法能非常方便 地从互联网上的一个站点访问另一个站点(也就是所谓的"链接到另 一 个站点")'从而可以 获取丰富的信息。
URL (Uniform Resource Locator)是统 一资源定位符的英文缩写词。万维网使用 URL 来标 志万维网上的各种文档，并使每一个文档在整个互联网的范围内具有唯一的标识符 URL。
HTTP (HyperText Transfer Protocol)是超文本传送协议的英文缩写 词。 HTTP 是万维网客户程序与万维网服务器程序之间进行交互时必须遵守的协议。
HTML (HyperText Markup Language)是超文本标记语言的英文缩写词。它使得万维网页面 的设计者，可以很方便地用链接，从本页面的某处链接到互联网上的任何一个万维网页面， 并且能够在自己的主机屏幕上将这些页面显示出来。
CGI (Common Gateway Interface)是通用网关接口的英文缩写词。 CGI 是 一种标准，它定 义了动态文档应如何创建，输入数据应如何提供给应用程序，以及输出结果应如何使用。
浏览器是在用户主机上的万维网客户程序 。万维网文档所驻留的主机则运行服务器程序。 客户程序向服务器程序发出请求，服务器程序向客户程序送回客户所要的万维网文档 。
超文本是包含指向其他文档的链接的文本 。也就是说 ， 一个超文本由多个信息源链接而 成，这些信息源的数目实际上是不受限制的。利用 一个链接可使用户找到另一个文档，而这 又可链接到其他的文档(依此类推)。这些文档可以位于世界上任何一个接在互联网上的超文 本系统中。超文本是万维网的基础 。
 超媒体与超文本的区别是文档内容不同。超文本文档仅包含文本信息，而超媒体文档还 包含其他表示方式的信息，如图形、图像、声音、动画，甚至活动视频图像。
超链 (hyperlink)就是 一 个超文本的链接，有时也就简称为链接。在客户程序的主窗口中， 超链通常用不同颜色的文字表示，有时在超链的文字下方添加了下划线。当我们把鼠标移动 到有超链的地方时，鼠标的箭头就变成了一只手的形状。
页面 (page)就是在一个客户程序主窗口上显示出的万维网文档。
活动文档 (active document)技术是把所有的工作都转移给浏览器端。每当浏览器请求 一 个 活动文档时，服务器就返回一段活动文档程序副本，使该程序副本在浏览器端运行。活动文 档程序可与用户直接交互，并可连续地改变屏幕的显示。只要用户运行活动文档程序，活动 文档的内容就可以连续地改变。由于活动文档技术不需要服务器的连续更新传送，对网络带 宽的要求也不会太高。从传送的角度看，浏览器和服务器都把活动文档看 成是静态文档。在 服务器上的活动文档的内容是不变的，这点和动态文档是不同的。浏览器 可在本地缓存 一份 活动文档 的副本。活动文档还可处理成压缩形式，便于存储和传送。活动文档本身并不包括 其运行所需的全部软件，大部分的支待软件是事先存放在浏览器中的。
搜索引擎 (search engine)是万维网中用来进行搜索信息的工具 。

### 【6-09】 假定 一 个超链从 一个万维网文档链接到另一个万维网文档时，由于万维网文档 上出现了差错而使得超链指向一个无效的计算机名字。这时浏览器将向用户报 告什么?
404 Not Found。


### 【6-10】假定要从已知的 URL 获得一个万维网文档。若该万维网服务器的 IP 地址开始 时并不知道。试问:除 HTTP 外，还需要什么应用层协议和运输层协议?
解答应用层协议需要的是 DNS。
运输层协议需要的是UDP CDNS使用)和TCP (HTTP使用)。

### <6-12 > 什么是动态文档?试举出万维网使用动态文档的一些例子 。 
解答:动态文档是指文档的内容是在浏览器访问万维网服务器时，才由应用程序动态创建的。当浏览器请求到达时，万维网服务器要运行另一个应用程序，并把控制转移到此应用 程序。接着，该应用程序对浏览器发来的数据进行处理，并输出 HTTP 格式的文档，万维网服务器把应用程序的输出作为对浏览器的响应。由于对浏览器每次请求的响应都是临时生成的，因此用户通过动态文档所看到的内容是不断变化的。动态文档的主要优点是具有报告当前最新信息的能力。例如，动态文档可用来报告股市行情、天气预报或民航售票情况等内容。但动态文档的创建难度比静态文档的高，因为动态文档的开发不是直接编写文档本身，而是编写用千生成文档的应用程序，这就要求动态文档的开发人员必须会编程，而所编写的程序还要通过大范围的测试，以保证输入的有效性 。
动态文档的一个例子是我们使用携程网 (www,ctrip,com)购买机票。

### <6-13 >浏览器同时打开多个TCP连接进行浏览的优缺点如何?请说明理由。
解答:浏览器同时打开多个TCP连接进行浏览的优点是**可以同时下载好几个对象**(文件或图片)，加快了下载的速度。然而，由于计算机连接到网络的线路的数据率是受限的，几个下载的数据率的总和不能超过连接到网络的线路的数据率。因此，浏览器同时打开多个TCP连接进行浏览，有时并不能带来太多的好处。

### 【6-14】 当使用鼠标点击一个万维网文档时，若该文档除了有文本 外，还有 一个本地 .gif 图像和两个远地 .gif 图像。试问:需要使用哪个应用程序，以及需要建立几次 UDP 连接和几次 TCP 连接?
解答:若使用 HTTP/1.0, 则需要建立 UDP 连接 0 次;需要建立 TCP 连接 4 次(文本1个和图像 3 个，各使用一个 TCP 连接)。
若使用 HTTP/1.1, 则需要建立 UDP 连接 0 次;需要建立 TCP 连接1次(文本 1 个和图 像 3 个，都使用这一个 TCP 连接)。

### 【6-15】假定你在浏览器上点击一个URL,但这个URL的IP地址以前并没有缓存在本地主机上。因此需要用DNS自动查找和解析。假定要解析到所要找的URL的IP地址共经过n个DNS服务器，所经过的时间分别为RTT1,RTT2,...,RTTn。假定从要找的网页上只需要读取一个很小的图片(即忽略这个小图片的传输时间)。从本地主机到这个网页的往返时间是RTTw。试问从点击这个URL开始，一直到本地主机的屏幕上出现所读取的小图片，一共要经过多少时间?
解答:解析IP地址需要时间是:RTT1+RTT2+...+RTTn
建立TCP连接和请求万维网文档需要2RTTw
需要的总时间是: 2RTTw+ RTT1 + RTT2 + ...+ RTTn

### 【6-16】 在上题中，假定同一台服务器的 HTML 文件中又链接了三个非常小的对象 。若 忽略这些对象的发送时间，试计算客户点击读取这些对象所需的时间。(I) 没有并行 TCP 连接的非持续 HTTP: (2) 使用并行 TCP 连接的非持续 HTTP: (3) 流水线方式的待续 HTTP。
解答 :分别计算如下:
(I) 所需时间 =RTT1+RTT2...+RTTn (解析IP地址)
+2RTTw (建立TCP连接和读取HTML文件) + 3(2RTTw) (读取三个对象)
= RTT1 + RTT2 + ...+ RTTn+ 8RTTw
(2) 所需时间 =RTT1+RTT2...+RTTn (解析IP地址) +2RTTw C建立 TCP 连接和读取 HTML 文件)
+ 2RTTw (并行地建立TCP连接和并行地读取三个对象)
= RTT1 + RTT2 + ...+ RTTn+ 4RTTw
(3) 所需时间= RTT1 + RTT2 +...+ RTTn
+2RTTw (建立 TCP 连接和读取 HTML 文件)
+RTTw (连续读取三个对象)
= RTT1 + RTT2 + ...+ RTTn+ 3RTTw

### 【6-18】一个万维网网点有1000万个页面，平均每个页面有10个超链。读取一个页面平均要100ms。问要检索整个网点所需的最少时间。
解答:依题意，一个页面上有10个超链，和本题并无关系，因为题目并未指出是否还要点击这10个超链(也没有给出点击一个超链需要多少时间)，以及是否要在点击超链后再继续点击下去，等等。本题实际上就是问，读取这1000万个网页需要多少时间。
既然读取一个页面平均要100ms,那么读取1000万个页面，就需要时间T==10$^7$xIOOx10${^-3}$==10$^6$s即约 11.6 天。

### <6-19 > 搜索引擎可分为哪两种类型?各有什 么 特点?
解答:搜索引擎的种 类很多，但大体上可划分为两大类，即全文检索搜索引擎和分类目录搜索引擎。
全文检索搜索引擎是一种纯技术型的检索工具。它的工作原理是通过搜索软件(例如一种叫做“蜘蛛”或“网络机器人”的 Spider程序)到互联网上的各网站收集信息，找到一个 网站后，又可以从这个网站再链接到另 一 个网站，像蜘蛛爬行一样 。 然后按照 一 定的规则建 立一个很大的在线数据库供用户查询。用户在查询时只要输入关键词，就从已经建立的索引 数据库上进行查询，由千并不是实时地在互联网上检索到的信息，因此很可能有些查到的信 息已经是过时的 。 建立这种索引数据库的网站，必须定期对已建立的数据库进行更新维护。 现在最出名的全文检索搜索引擎就是 Google (谷歌)网站 (www.google.com), 它搜集的网页 数量超过 80 亿个，图片超过 10 亿个，在整个搜索引擎市场中占有的份额超过 50%。 在中文 搜索引擎中，最出名的是百度网站 (www.baidu.com)。
分类目录搜索引擎并不采集网站的任何信息，而是利用各网站向搜索引擎提交网站信息时填写的关键词和网站描述 等信息 ， 经过人工审核编辑后 ，如果认为符 合网站登录 的条件， 则输入到分类目录的数据库中，供网上用户查询 。 因此，分类目录搜索也叫做分类网站搜索。 分类目录的好处就是，用户可根据网站设计好的目录有针对性地逐级查询所需要的信息，查 询时不需要使用关键词，只需要按照分类(先找大类，再找下面的小类)，因而查询的准确性 较好。但分类目录查询的结果并不是具体的页面，而是被收录网站主页的 URL 地址，因而所 得到的内容就比较有限。相比之下，全文检索可以检索出大量的信息( 一次 检索的结果是几 百万条，甚至是于万条以上)，但缺点是查询结果不够准确，往往是罗列出了海量的信息(如上千万个页面)，使用户无法迅速找到所需的信息。在分类目录搜索引擎中 ，现在最著名 的网站就是雅虎 (www.yahoo.com)。国 内著名的分类搜索引擎有雅虎中国 (en.yahoo.com)、新浪 (www.sina.com)、搜狐 (www.sohu.com)、网易 (www. I63.com)等 。

### 【6-20】试述电子邮件的最主要的组成部件。用户代理UA的作用是什么?没有UA行不行?
解答:一个电子邮件系绩应具备三个主要组成构件，这就是用户代理、邮件服务器，以及邮件发送协议(如SMTP)和邮件读取协议(如POP3)。
用户代理UA(UserAgent)就是用户与电子邮件系统的接口，在大多数情况下它就是运行在用户PC中的一个程序。因此用户代理又称为电子邮件客户端软件。用户代理向用户提供一个很友好的接口(目前主要是用窗口界面)来发送和接收邮件。具体来讲，用户代理至少应当具有以下四个功能。
(])撰写:给用户提供编辑信件的环境。
(2)显示:能方便地在计算机屏幕上显示出来信和去信。
(3)处理:包括发送邮件和接收邮件。
(4)通信:发信人在撰写完邮件后，要利用邮件发送协议发送到用户所使用的邮件服务器。收件人在接收邮件时，要使用邮件读取协议从本地邮件服务器接收邮件。
如果没有用户代理UA,那么对千要使用电子邮件的用户就很不方便了。因为上面所说的UA的功能，就要统统由用户自己来编程实现。如果用户不会计算机编程，那么他就无法使用电子邮件。即使用户会计算机编程，那么这也将耗费他很长的时间，使他不愿意使用这样的电子邮件。因此，用户代理UA对电子邮件用户来说是必不可少的。

### 【6-21 】电子邮件的信封和内容在邮件的传送过程中起什么作用?和用户的关系如何? 
解答:电子邮件由信封和内容两部分组成 。
电子邮件的传输程序根据邮件信封上的信息来传送邮件。这与邮局按照信封上的信息投 递信件是相似的。在邮件的信封上，最重要的就是收件人的地址，这个地址保证了电子邮件能够正确地传送到收件人的邮箱中。没有正确的收件人地址，电子邮件就不能传送 。
至千收件人是否及时地从自己的邮箱中读取来信则是另一回事。如果用户不从其邮箱中读取电子邮件，那么用户就看不到这个电子邮件 。
电子邮件的内容在邮件传送过程中是不暴露出来的。用户可以传送任意格式的内容，但应当让收件人能够读取这种格式的邮件。

### <6-22 > 电子邮件的地址格式是怎样的?请说明各部分的意思。
解答:邮件地址的格式如下:
收件人邮箱名@邮箱所在主机的域名
在上式中，符号"@"读作 "at", 表示“在"的意思。收件人邮箱名又简称为用户名，是收件人自己定义的字符串标识符。但应注意，标志收件人邮箱名的字符串在邮箱所在邮件 服务器的计算机中必须是唯一的。我们知道，邮箱所在的主机的域名在互联网中是唯一的， 这样就保证了这个电子邮件地址在整个互联网范围内是唯一的。这对保证电子邮件能够在整个互联网范围内的准确交付是十分重要的。电子邮件的用户一般采用容易记忆的字符串 。
例如，域名 163.com 在互联网范闱内是唯 一 的 。 如果我们要向网易 (163.com) 申请一个 电子邮件地址，就可以先取 一 个收件人邮箱名试试看。例如，我们选择 xyz。 这时可能屏幕显 示此邮箱名已经有人选用了，于是我们可以在 xyz 后面加上 一些字符再试试。例如，我们取xyz2010, 如果屏幕显示可以用这个邮箱名，那么以后我们就使用 xyz2010@ l63.com 这个电子邮件地址，可以保证在整个互联网范围内一定是唯一的 。

 ### <6-23 > 试简述SMTP通信的三个阶段的过程。
解答: SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。由千SMTP使用客户服务器方式，因此负责发送邮件的SMTP进程就是SMTP客户，而负责接收邮件的SMTP进程就是SMTP服务器。
SMTP通信有以下三个阶段。
(1)连接建立
发件人的邮件送到发送方邮件服务器的邮件缓存后，SMTP客户就每隔一定时间(例如30分钟)对邮件缓存扫描一次。如发现有邮件，就使用SMTP的熟知端口号码(25)与接收方邮件服务器的SMTP服务器建立TCP连接。
(2)邮件传送
邮件的传送从MAIL命令开始。MAIL命令后面有发件人的地址。下面跟着一个或多个RCPT命令，取决于把同一个邮件发送给一个或多个收件人。RCPT命令的作用就是:先弄清接收方系统是否己做好接收邮件的准备，然后才发送邮件。这样做是为了避免浪费通信资源，不致于发送了很长的邮件以后才发现地址错误。
再下面就是DATA命令，表示要开始传送邮件的内容了。
(3)连接释放
邮件发送完毕后，SMTP客户应发送QUIT命令。SMTP服务器如同意释放TCP连接，
邮件传送的全部过程即结束。


### 【6-24】试述邮局协议POP的工作过程。在电子邮件中，为什么需要使用POP和SMTP这两个协议?IMAP与POP有何区别?
解答:邮局协议POP是一个非常简单、但功能有限的邮件读取协议。POP已成为互联网的正式标准。大多数的ISP都支持POP。POP3可简称为POP。
在电子邮件系统中，**SMTP协议是用来发送电子邮件的**，而**POP协议是用户读取电子邮件的协议**。因此，这两个协议都是电子邮件系统必不可少的。
在电子邮件读取协议中有POP和IMAP两种。**POP协议的一个特点就是只要用户从POP服务器读取了邮件，POP服务器就把该邮件删除。**这在某些情况下就不够方便。
在使用IMAP时，在用户的PC上运行IMAP客户程序，然后与接收方的邮件服务器上的IMAP服务器程序建立TCP连接。用户在自己的PC上就可以操纵邮件服务器的邮箱，就像在本地操纵一样，因此**IMAP是一个联机协议**。当用户PC上运行IMAP客户程序，并打开IMAP服务器的邮箱时，用户就可看到邮件的首部。若用户需要打开某个邮件，则该邮件才传到用户的计算机上。用户可以根据需要为自己的邮箱创建便千分类管理的层次式的邮箱文件夹，并且能够将存放的邮件从某一个文件夹中移动到另一个文件夹中。用户也可按某种条件对邮件进行查找。在用户未发出删除邮件的命令之前，IMAP服务器邮箱中的邮件一直保
存着。
IMAP最大的好处就是用户可以在不同的地方使用不同的计算机，随时上网阅读和处理自己的邮件。IMAP还允许收件人只读取邮件中的某一个部分。例如，为了节省时间，可以先下载邮件的正文部分，待以后有时间再读取或下载邮件的附件。
IMAP的缺点是如果用户没有将邮件复制到自己的PC上，则邮件一直存放在IMAP服务器上。因此，用户需要经常与IMAP服务器建立连接。

### 【6-25】MIME与SMTP的关系是怎样的?什么是quoted-printable编码和base64编码?
解答:电子邮件的协议SMTP有以下缺点:
(1) SMTP 不能传送可执行文件或其他的二进制对象。
(2) SMTP **限于传送 7 位的 ASCII 码**。许多其他非英语国家的文字(如中文、俄文，甚至带重音符号的法文或德文)就无法传送。
(3) SMTP 服务器会拒绝超过一定长度的邮件。
(4) 某些 SMTP 的实现并没有完全按照 SMTP 的互联网标准。常见的问题如下:
• 回车、换行的删除和增加;
• 超过 76 个字符时的处理:截断或自动换行;
• 后面多余空格的删除;
• 将制表符 tab 转换为若干个空格。 
于是，在这种情况下就提出了**通用互联网邮件扩充 MIME**。 **MIME 并没有改动或取代SMTP。 MIME 的意图是继续使用目前的 RFC 822 格式，但增加了邮件主体的结构，并定义了传送非ASCII码的编码规则。**
MIME主要包括以下三部分内容
(1)5个新的邮件首部字段，它们可包含在RFC822首部中。这些字段提供了有关邮件主体的信息。
(2)定义了许多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。
(3)定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变。quoted-printable编码和base64编码都是同 MIME 常用的内容传送编码。
quoted-printabl~ 编码适用千当所传送的数据中只有少量的非 ASCII 码，例如汉字。这种编码方法的要点就是对于所有可打印的 ASCII 码，除特殊字符等号"="外，都不改变。等 号"="和不可打印的 ASCII 码以及非 ASCII 码的数据的编码方法是:先将每个字节的二进 制代码用两个十六进制数字表示，然后在前面再加上一个等号"="。例如，汉字的”系统” 的二进制编码是: 11001111 10110101 11001101 10110011 (共有 32 位，但这四个字节都不是 ASCII 码)，其十六进制数字表示为: CFB5CDB3 。用 quoted-printable 编码表示为: =CF=B5=CD=B3, 这 12 个字符都是可打印的 ASCII 字符，它们的二进制编码需要 96 位，和 原来的 32 位相比，开销达 200%。而等号"="的二进制代码为 0011110l, 即十六进制的 3D, 因此等号"="的 quoted-printable 编码为 "=3D"。
对于任意的二进制文件，可用 base64 编码。这种编码方法是先把二进制代码划分为一个 个 24 位长的单元，然后把每一个 24 位单元划分为 4 个 6 位组。每一个 6 位组按以下方法转 换成 ASCII 码。 6 位的二进制代码共有 64 种不同的值，从 0 到 63。用 A 表示 O, 用 B 表示 l, 等等。 26 个大写字母排列完毕后，接下去再排 26 个小写字母，再后面是 10 个数字，最后用
"+"表示 62, 而用"!"表示 63。再用两个连在一起的等号"= ="和一个等号"="分别表示最后一组的代码只有 8 位或 16 位。回车和换行都忽略，它们可在任何地方插入。

 ### 【6-26】 一个二进制文件共 3072 字节长。若使用 base64 编码，并且每发送完 80 字节就 插入 一 个回车符 CR 和 一 个换行符 LF, 问一共发送了多少个字节?
解答: 3072/6=512个 6bit单元，每一个 6bit转换为一个 8bit单元，因此共有 5]2X 8= 4096 B 。
4096=51X 80+16, 最后的16字节也要作为一行来发送，因此共有52行。每行要插入 CR, LF两个字节，总共要插入2x52=104B, 可知一共发送4096B+I04B=4200B。

### <6-27 > 试将数据 110011OO I000000I 00111000 进行 base64 编码，并得出最后传送的ASCII数据。
解答:先把24比特的二进制数字划分为4个6 位组:
110011 001000 000100 111000, 得出十进制的值 51, 8, 4, 56。因为 6 位组的值在0到63之间，因此每一个值可以唯一地与一个ASCII代码相对应 。
根据 base64 编码表 (见表 T-6-27), 把上面的这些值转换成对应的 ASCII 代码: zIE4。
再查找 ASCII 编码表，得出对应的 二进 制代码为:
01111010 01001001 01000101 00110100

### 【6-28】 试将数据 01001100 10011101 00111001 进行 quoted-prinable 编码，并得出最后传达的ASCII数据。这样的数据用quoted-printable编码后，其编码开销有多大?
 解答: 01001100 10011101 00111001 有3个字节，中间的一个高位为I,因此它不是ASCII码，需要使用quoted-printable编码。第一个和第三个字节是ASCII码，不变化。
 10011101 的十六进制表示是: 9D, 前面再加上等号"=", 变成 "=9D"。
 =, 9和D的八位ASCII码分别为
0011110l 00111001 和 01000100, 因此最后的结果是 5 个字节的数据:
01001100 00111101 00111001 01000100 00111001
编码开销= 5-3 =2字节。原来只有3字节的数据。 用百分数表示的编码开销 =2/3=66.7%。

### 【6-29】电子邮件系统需要将人们的电 子邮件地址编成目录以便于查找。要建立这种目 录应将人名划分为几个标准部分(例如，姓、名)。若要形成一个国际标准， 那么必须解决哪些问题?
解答:非常困难 。例如，人名的书写方法，很多国家(如英、美等西方国家)是先写名 再写姓。但像中国或日本等国家则先写姓再写名。有些国家的一些人还有中间的名。称呼也 有非常多种类。还有各式各样的头衔。很难有统一的格式。

### 【6-30】电子邮件系统使用 TCP 传送邮件 。 为什么有时我们会遇到邮件发送失败的情 况?为什么有时对方会收不到我们发送的邮件?
解答:有时对方的邮件服务器不工作，邮件就发送不出去。对方的邮件服务器出故障也会使邮件丢失。


### 【6-31 】基于万维网的电子邮件系统有什么特点?在传送邮件时使用什么协议? 
解答:使用基于万维网的电子邮件，不管在什么地方(网吧、 宾馆 或朋友家中)，只要能 够上网，在打开万维网浏览器后 i 就可以收发电子邮件。在这种情况下，邮件系统中的用户代理就是普通的万维网浏览器(例如， IE 浏览器)。这对比较忙碌的用户显然是非常方便的。 电子邮件从用户的浏览器发送到某个邮件服务器时，不是使用 SMTP 协议，而是使用 HTTP 协议 。电子邮件在邮件服务器之间传送时，仍然是使用 SMTP 协议。最后，收件人用浏览器从邮件服务器读取发件人发来的邮件时，是使用 HTTP 协议，而不是使用 POP3 或 IMAP 协议。

### 【6-32】 DHCP 协议用在什么情况下? 当一台计算机第一次运行引导程序时，其 ROM 中有没有该主机的 IP 地址、子网掩码，或某个域名服务器的 IP 地址?
解答:动态主机配置协议 DHCP 提供了即插即用连网机制 。 这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。因此，每当一台计算机加入到一个新的网络时，就需要运行DHCP协议来获取这台计算机的IP地址。
当一台计算机第一次运行引导程序时，ROM中并没有该计算机的IP地址、子网掩码，或某个域名服务器的IP地址的任何一个。

### 【6-33】什 么是网络管理?为什么说网络管理是当今网络领域中的热门课题?
解答:网络管理包括对硬件、软件和人力的使用、综合与协调，以便对网络资源进行监 视、测试、配置、分析、评价和控制，这样就能以合理的价格满足网络的一些需求，如实时 运行性能、服务质量等。网络管理常简称为网管。我们可以看到，网络管理并不是指对网络进行行政上的管理。
网络是一个非常复杂的分布式系统。这是因为网络上有很多不同厂家生产的、运行着多 种协议的结点(主要是路由器)，而这些结点还在相互通信和交换信息。网络的状态总是不断 地变化着。可见，我们必须使用一种机制来读取这些结点上的状态信息，有时还要把一些新 的状态信息写入到这些结点上。
当网络的规模很小时，并不一定需要使用软件来管理网络。但是现在的互联网(网络的 网络)已经发展到了非常大的规模。如果仅仅依靠人工来管理网络已不可能使网络能够正常运转。在这种情况下，网络管理就成为当今网络领域中的热门课题，而各种网络管理软件也都纷纷间世。在互联网的网络管理中，已经成为互联网标准的就是简单网络管理协议SNMP, 现在已经有了三个版本。 SNMP协议已相当庞大，一点也不“简单"，整个标准共有八个RFC文档 [RFC3411 ~3418]。

### <6-34 > 解释下列术语:网络元素、被管对象、管理进程、代理进程。
解答:
网络元素:即被管设备，也可简称为网元。 
被管对象:在被管理的网络中有很多的被管设备(包括设备中的软件)。被管设备可以是主机、路由器、打印机、集线器、网桥或调制解调器等。在每一个被管设备中可能有许多被 管对象。被管对象可以是被管设备中的某个硬件(例如，一块网络接口卡)，也可以是某些硬 件或软件(例如，路由选择协议)的配置参数的集合。
管理进程:管理程序在运行时就成为管理进程 。管理程序在管理站(通常是个有着良好 图形界面的高性能的工作站，并由网络管理员直接操作和控制)上运行。整个网络的管理都 是依靠管理进程(运行的管理程序)来完成的。
代理进程:在每一个被管设备中，都要运行一个程序以便和管理站中的管理程序 进行通信。这些运行着的程序叫做网络管理代理程序，或简称为代理。代理程序在管理程序的命令 和控制下，在被管设备上采取本地的行动。运行的代理程序就是代理进程。

### <6-35 > SNMP 使用 UDP 传送报文。为什么不使用 TCP?
解答: SNMP 使用无连接的 UDP (要发送数据时不需要有连接建立过程，数据发送完毕后，也不需要连接释放过程)，因此在网络上传送 SNMP 报文的开销较小。但 UDP 是不保证可靠交付的，有丢失的可能。好在 SNMP 使用周期性地发送探询报文段的方法，来对网络资源进行实时监视，如果丢失了一个探寻报文，则经过一段时间后，会再发送一个。这样就比使用TCP要快速得多。

### 【6-36】为什么SNMP的管理进程使用探询掌握全网状态属千正常情况，而代理进程用陷阱向管理进程报告属于较少发生的异常情况?
 解答:我们知道，SNMP的管理进程使用**探询**掌握全网状态。现在的问题就是探询的频率应当如何选择。如果要想非常准确地掌握全网的状态，那么SNMP的探询频率就必须选择得非常高。打个比方，我们为了预防生病，就应当定期体检。假定每隔一天就体检一次，那么身体稍有问题，就会及时地检查出来。但这样一来，我们什么事情也不能做了，因此体检频率过高是不可行的。如果大家每隔一年或半年体检一次可能就比较合适。SNMP也是类似的。由于网络规模相差很大，网络中网元的数目也有多有少。因此，SNMP标准不可能规定出探询的频率统一设为多少。但合理设置的探询频率应当是能够比较及时地检测出网络中的异常情况。这种由SNMP探询发现的网络中的问题，是属于网络管理中的正常情况。但是，SNMP也考虑到在两次探询之间在网络中发生的问题，这时可以由陷阱向管理进程报告。这就属千较少发生的异常情况。如果由陷阱向管理进程报告的频率很高，就说明网络的SNMP探询的频率太低了，应当适当进行调整。


### 【6-37】 SNMP使用哪几种操作?SNMP在Get报文中设置了请求标识符字段，为什么?
解答: SNMP 的操作只有两种基本的管理功能，即:
(1) "读"操作，用 Get报文来检测各被管对象的状况;
(2) "写“操作，用 Set报文来改变各被管对象的状况。 
请求标识符(requestID)是由管理进程设置的4字节整数值。 SNMP在Get报文中设置了请求标识符字段，而代理进程在发送响应报文时也要返回此请求标识符。由于管理进程可同 时向许多代理发出请求读取变量值的报文，因此设置了请求标识符，可使管理进程能够识别返回的响应是对应千哪一个请求报文。

### <6-38 > 什么是管理信息库MIB?为什么要使用MIB?
解答:所谓“管理信息”就是指在**互联网的网管框架中被管对象的集合**。被管对象必须维持可供管理程序读写的若干控制和状态信息。这些被管对象构成了一个虚拟的信息存储器，所以才称为管理信息库MIB。管理信息库在被管理的实体中创建了命名对象，并规定了其类型。管理程序就是使用MIB中这些信息的值对网络进行管理(如读取或重新设置这些值)。**只有在MIB中的对象才是SNMP所能够管理的**。例如，路由器应当维持各网络接口的状态、入分组和出分组的流量、丢弃的分组和有差错的报文的统计信息，而调制解调器则应当维待发送和接收的字符数、码元传输速率和接受的呼叫等统计信息。因此，在管理信息库MIB中就必须有上面这些信息。


### <6-39 > 什么是管理信息结构 SMI? 它的作用是什么?
解答:管理信息结构 SMI (Structure of Management Information)是 SNMP 的重要组成部
分。 SMI 的功能应当有三个，即规定:
(1) 被管对象应怎样命名:
(2) 用来存储被管对象的数据类型有哪些; 
(3) 在网络上传送的 管理数据应如何编码。


 ### <6-40 > 用 ASN.1 基本编码规则对以下 4 个数组 (SEQUENCE-OF)进行编码。假定每一 个数字占用 4 个字节 。2345, 1236, 122, 1236
 

 ### <6-41 > SNMP 要发送 一 个icmplnPam面 obs 的值。在 icmp 中变量 icmplnParmProbs 的标号是 (5), 它是一 个计数器，用来统计收到的类型为参数问题的 ICMP 差错报告报文的数目。 试给出这个 GetRequest 报文的编码 。

### 【6-42】对象 tcp 的 OBJECT IDENTIFIER 是什么? 解答: {l.3.6.l.2.l.6} 


### 【6-43】在 ASN.I 中， IP地址(IPAddress)的类别是应用类。若 IPAddress= 131.21.14.2, 试求其 ASN.l 编码。
解答:
40 04 83 I5 OE 02  
40$_{16}$ = I0000000, 10 表示 应用类， 04 表示长度为 4 字节， 83$_{16}$= 10000011 = 128+3 =
131, 15$_{16}$ = 00010101 = 21, 0E$_{16}$ = 14, 02$_{16}$ = 2。

### 【6-44】什么是应用编程接口 API? 它是应用程序和谁的接口?
解答:应用编程接口 API (Application Programming Interface)就是系统调用接口。它就是应用进程的控制权和操作系统的控制权进行转换的一个接口。 API 从程序设计的角度定义了 许多标准的系统调用函数。应用进程只要使用标准的系统调用函数，就可得到操作系统的服 务。因此从程序设计的角度看，也可以把 API 看成是应用程序和操作系统之间的接口。

### <6-45 > 试举出常用的几种系统调用的名称，说明它们的用途。 
解答:下面就是几种常用的系统调用。
系统调用bind(绑定)用来指明套接字的本地地址(本地端口号和本地IP地址)。
系统调用listen(收听)用来把套接字设置为被动方式，以便随时接受客户的服务请求。
系统调用accept(接受)用来把远地客户进程发来的连接请求提取出来。
系统调用connect用来和远地服务器建立连接(这就是主动打开，相当千客户发出的连接请求)。
系统调用send用来在TCP连接上传送数据。系统调用recv用来接收数据。
系统调用close用来释放连接和撤销套接字。


### <6-46> 图T-6-46表示了各应用协议在层次中的位置。
(1) 简单讨论 一 下为什么有的应用层协议要使用 TCP, 而有的却要使用 UDP? (2) 为什么 MIME 画在 SMTP 之上?
(3) 为什么路由选择协议 RIP 放在应用层?
解答:
(])凡是使用TCP的应用层协议，都是需要可靠传送应用层协议的数据。但为什么不是所有的应用层协议都使用TCP呢?这是因为TCP的开销太大，而有的数据并不一定要使用TCP来传送。用UDP传送数据的开销很小。例如RIP路由选择协议，在和相邻的路由器交换路由信息时，如果丢失了，则下一次还会再发送(每隔一定的时间发送一次)。这样就比使用TCP更加有利。
(2)MIME并不是一个独立的邮件传送协议。MIME在其邮件首部中说明了邮件的数据类型(如文本、丰音、图像、视像等)。在MIME邮件中，可同时传送多种类型的数据，这在多媒体通信的环境下是非常有用的。但MIME不能单独使用，它是在SMTP上面的一个协议。
(3)RJP协议使用运输层的用户数据报UDP进行传送(使用UDP的瑞口520)。因此RJP的位置应当在应用层，在UDP的上面。

### 【6-47】 现在流行的 P2P 文件共享应用程序都有哪些特点?存在哪些值得注意的问题?
解答 : 现在流行的 P2P 文件共享应用程序的主要特点是:
(1) 不使用集中式的文件服务器，文件的传输都使用分布式对等传输方式 ， 每个对等方既可以是客户，也可以是服务器。这取决千向别人要文件还是把文件传送别人。
(2) 大的文件通常都划分为很多的小文件。要得到一个大文件，往往要从很多个对等方下载。精心设计的协议可以使大文件的下载很快。
(3) 出于要保护商业利益，目前很难得到有关一些著名 P2P 软件比较具体的信息。 目前最值得注意的是对知识产权的保护。由于盗版文件已分散在非常大量的用户之间要追查责任相当困难。

### 【6-48】 使用客户-服务器方式进行文件分发。一台服务器把一个长度为 F的大文件分发给 N 个对等方。假设文件传输的瓶颈是各计算机(包括服务器)的上传速率 u。试计算文件分发到所有对等方的最短时间。
解答: 从服务器端考虑，N台主机共需要从服务器得到的数据总量(比特数)是 NF。如果服务器能够不停地以其上传速率 u 向各主机传送数据，一直到各主机都收到文件 F, 就需 要时间 NF/u, 单位是秒 。 由此可见，文件分发到所有对等方的最短时间是 NF/u。

### 【6~49】 重新考虑上题的文件分发任务，但采用 P2P 文件分发方式，并且每个对等方只能在接收完整个文件后才能向其他对等方转发。试计算文件分发到所有N个对等方的最短时间。
解答 :传送一次文件所需的时间是 F/u。
第一次只能传送给 1 个对等方，第 2 次可以传送给 2 个对等方，第 3 次可以传送给 4 个 对等方，到了最后的第 n次可以传送给 2n-1 个对等方 。
因此， 1+2+2$^2$+2$^3$+...+2${n-1}$=N
即2$^n$-1=N, 解出N=[log2(N+ I)], 故得出文件分发到所有N个对等方的最短时间为[log2(N + l)]F/u。

### 【6-50】 再重新考虑上题的文件分发任务，但可以把这个非常大的文件划分为一个个非常小的数据块进行分发，即一个对等方在下载完一个数据块后就能向其他对等方转发，并同时可下载其他数据块。不考虑分块增加的控制信息，试计算整个大文件分发到所有对等方的最短时问 。
解答 :这个很大的文件可以划分成很多很多(例如，N个，N是对等方用户的数目)非常小的数据块。服务器把每一个小数据块分别发送给每一个对等方用户。例如，第k个小数据块发送给第k个对等方用户。这样，总共用时间F/u就能够把整个大文件发送完毕。请注意，每个小数据块只需要从服务器发送一次，以后不需要再重复发送。
现在这个大文件已经分散在N个对等方了，每个对等方只下载到其中的一个小数据块。所花费的时间是(F/u)*(1/N),N是对等方用户的数目。
然后，大量对等方用户之间互相传送数据。只要设计很好的传送规则，那么经过时间F/u,所有的对等方用户就都能够把整个大文件下载完毕。例如，我们可以在以后的每一次传送时，令第k个对等方，把刚才收到的第k个小数据块，传送给第k-1个对等方用户。第1个对等方用户则把刚刚收到的小数据块传送给第N 个对等方用户。
可见，整个大文件分发到所有对等方的最短时间是 F/u。
