- [问题 6-1. 我们经常这样说:“两个计算机进行通信”。我们应当怎样理解这句话? 解答:这个 问题一定要弄清楚 。](#问题-6-1-我们经常这样说两个计算机进行通信我们应当怎样理解这句话-解答这个-问题一定要弄清楚-)
- [问题 6-2. 能否用你的 PC 进行 一 个简单的实验:一个计算机同时和 5 个计算机进行通信?](#问题-6-2-能否用你的-pc-进行-一-个简单的实验一个计算机同时和-5-个计算机进行通信)
- [问题 6-3. 互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处?](#问题-6-3-互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处)
- [问题6-4. 连接在互联网上的主机名必须是唯一的吗?](#问题6-4-连接在互联网上的主机名必须是唯一的吗)
- [问题 6-5. 在互联网中通过域名系统查找某个主机的 IP 地址，和在电话系统中通过 114 查号台查找某个单位的电话号码相比，有何异同之处?](#问题-6-5-在互联网中通过域名系统查找某个主机的-ip-地址和在电话系统中通过-114-查号台查找某个单位的电话号码相比有何异同之处)
- [问题 6-6. 一个单位的 DNS 服务器可以采用集中式的一个 DNS 服务器，也可以采用分布 式的多个 DNS 服务器。哪一种方案更好些?](#问题-6-6-一个单位的-dns-服务器可以采用集中式的一个-dns-服务器也可以采用分布-式的多个-dns-服务器哪一种方案更好些)
- [问题 6-7 对 同一个域名 向 DNS 服务器发出好几次的 DNS 请求报文后，每 一次 得到的 IP 地址都不一样。这可能吗?](#问题-6-7-对-同一个域名-向-dns-服务器发出好几次的-dns-请求报文后每-一次-得到的-ip-地址都不一样这可能吗)
- [问题 6-8 当使用 2 Mbit/s 的宽带调制解调器上网时，经常会发现数据下载的速率远 远小于 2 Mbit/s。这是什么原因?](#问题-6-8-当使用-2-mbits-的宽带调制解调器上网时经常会发现数据下载的速率远-远小于-2-mbits这是什么原因)
- [问题 6-9. ARP 和 DNS 是古有些 相似?它们有何区别?](#问题-6-9-arp-和-dns-是古有些-相似它们有何区别)
- [问题 6-10. "网关”和“路由器”是否为同义语?](#问题-6-10-网关和路由器是否为同义语)
- [问题 6-11 我们常在文献上看到“远程登录”这样的名词。它的英文名字应当是 remote log-in 还是 Telnet?](#问题-6-11-我们常在文献上看到远程登录这样的名词它的英文名字应当是-remote-log-in-还是-telnet)
- [问题 6-12 电话通信和电子邮件通信都是使用客户服务器工作力式吗?](#问题-6-12-电话通信和电子邮件通信都是使用客户服务器工作力式吗)
- [问题 6-13. {1电子邮件中，“信封"、“内容”、“首部”、“主体”是个什么样的关系?](#问题-6-13-1电子邮件中信封内容首部主体是个什么样的关系)
- [问题 6-14 在电子邮件的发展过程中， X.400 是个很有名的电子邮件系统。为什么现在不提了?](#问题-6-14-在电子邮件的发展过程中-x400-是个很有名的电子邮件系统为什么现在不提了)
- [问题 6-15. 有的教科书中在讲到电子邮件系统时用到 MTA。这是怎样的概念?](#问题-6-15-有的教科书中在讲到电子邮件系统时用到-mta这是怎样的概念)
- [问题 6-16. 能否更加细致地介绍 一 下 base64 编码?](#问题-6-16-能否更加细致地介绍-一-下-base64-编码)
- [问题 6-17. 能否归纳一下HTTP协议的主要特点?](#问题-6-17-能否归纳一下http协议的主要特点)
- [问题6-18.HTTPI.I 协议比起HTTP1.0协议有哪些主要的变化?](#问题6-18httpii-协议比起http10协议有哪些主要的变化)
- [问题 6-19. 抽象语法、传送语法的主要区别是什么?数据类型、编码以及编码规则的区别又是什么?](#问题-6-19-抽象语法传送语法的主要区别是什么数据类型编码以及编码规则的区别又是什么)
- [习题与解答](#习题与解答)
- [<6-01 > 互联网的域名结构是怎样的?它与目前的电话网的号码结构有何异同之处?](#6-01--互联网的域名结构是怎样的它与目前的电话网的号码结构有何异同之处)
- [【6-02】 域名系统的主要功能是什么?域名系统中的本地域名服务器、根域名服务器、 顶级域名服务器以及权限域名服务器有何区别?](#6-02-域名系统的主要功能是什么域名系统中的本地域名服务器根域名服务器-顶级域名服务器以及权限域名服务器有何区别)
- [<6-03 > 举例说明域名转换的过程。域名服务器中的高速缓存的作用是什么?](#6-03--举例说明域名转换的过程域名服务器中的高速缓存的作用是什么)
- [【6-04】设想 有·大整个互联网的 DNS 系统都瘫痪了 (这种情况不大会出现)，试 问还 有可能 给朋友发 送电子邮件吗?](#6-04设想-有大整个互联网的-dns-系统都瘫痪了-这种情况不大会出现试-问还-有可能-给朋友发-送电子邮件吗)
### 问题 6-1. 我们经常这样说:“两个计算机进行通信”。我们应当怎样理解这句话? 解答:这个 问题一定要弄清楚 。
“两个计算机进行通信”是 很常用的说法 ，我们的教材中也常常使用这种说法。这种说 法的好处就是简单、方便，但是，我们必须深刻理解这句话的含义。
严格来讲，计算机之间的通信，归根到底，是计算机中**运行的程序**和另一个计算机(或本计算机)中**运行的程序**进行通信 。也就是说 ，是计算机中的**进程**和**另一个进程**(另一个计算机中的或本计算机中的)进行通信。进程就是运行着的程序 。但为简单起见，大家就常常说成是“两个计算机进行通信” 。这样的简便说法并没有什么错误，但我 们应当对这种说法有 个正确的理解 。
有时，将“计算机”和“计算机中的进程”区分开来是很必要的。因为有时在一个计算机中同时运行多个进程，而 每一个进程都在 和其他计算机的进程进行通信 。如果笼统 地说一个计算机同时和多个计算机进行通信，那么就比较含糊 。在这种情况下，用进程之间的通信就容易把问题讲清楚 。
当然，连接在互联网上的计算机中的进程在进行通信时，还要使用 TCP/IP协议族。否则 进程之间是无法进行通信的 。

### 问题 6-2. 能否用你的 PC 进行 一 个简单的实验:一个计算机同时和 5 个计算机进行通信? 
解答: 这很容易实现。用你的 PC 上网(用什么具体手段都行)。连续打开 PC 中的浏览器程序 5 次，这样就在PC 的屏 幕上出现 5 个浏览器的窗口。然后迅速在不同的浏览器窗口一个接着一个地访问 5个不同的网站，并进行文件下载。这时你可以看见 5 个不同的文件同时从不同的远地服务器下载到你的 PC 的硬盘中 。
你的 PC 只有一个 CPU。从微观上看， 一 个 CPU 在同 一个时间只能做一件事。 CPU执行计算机指令的速度非常快，因此它可以轮流处理 PC 中的 5 个进程和远地的另外 5 个进程之间 的通信任务。但从我们眼睛看屏幕所得到的宏观感觉，好像 CPU 是在同时处理这 5 件任务。

### 问题 6-3. 互联网中计算机程序之间的通信和电信网中的电话通信有何相同或不同之处? 
解答:
相同之处:
电信网:允许一个电话机向另一个电话机发出呼叫请求(即拨打另一个电话机的号码)。互联网:允许一个程序向另一个程序发出呼叫请求(即主动发出要求通信的请求)。
不同之处 :
电信网:两个电话机都处千不通话状态时(即都处于挂机状态时), 主叫方摘机并拨号进行呼叫，被叫方听到铃响并摘机后，双方开始进行通话 。 也就是说，主叫方通过自己的振铃 可以使被叫方的电话机变为通话状态(当然要通过被叫人的摘机动作)。
互联网:当被叫程序处千运行状态时，主叫程序发出通信请求，被叫程序同意进行通信后，双方程序开始进行通信。但如果被叫程序没有处在运行状态，则主叫程序无法使被叫程序变为运行状态。在这种情况下，双方的通信是不可能的。因此，计算机程序之间的通信的 一个很重要 的特点就是:**披叫程序必须始终处于运行状态** 。通常将主叫程序称为 客户程序， 而被叫程序称为服务器程序。


### 问题6-4. 连接在互联网上的主机名必须是唯一的吗?
解答:这是肯定的。 互联网不允许有两个(或更多的)主机具有同样的主机名。 但是必须注意，这里所说的“**主机名**”指的是主机的“**全名**" (full name), 它也就是“**主机的域名**“，而不是指 一个主机的 “**本地名字**”。 例如，很多单位的网站服务器主机的本地名字都愿意取为 www。这主要是为了便千记忆，使人一看见这 WWW, 就知道这个计算机是用来存放该单位网页信息的，使得人们可以利用HTTP 协议来访问这个网站 。所以当我 们看到下面这样的网址: http://www.google.com就应当很明确，在**整个互联网范围中唯一的主机名**就是 www.google.com。
但应注意，主机名有两种，即**全名和本地名字**(local name)。虽然主机的**全名**在互联网上 必须是唯一的，但主机的**本地名字**只需要在本级域名下是唯一的即可。例如， ".google"是 在顶级域名 ".com" 下注册的二级域名。 WWW 是这个主机在二级域名 ".google" 下的本地 名字。全世界有很多的主机使用相同的本地名字(例如， ;,.WW 或 ma过)，但这并不会产生混 乱。我们可以看出，如果 google 将其网站主机的本地名字取为其他的名字 xyz, 那么它的 网址就要变成:
http://xyz.google.com
但这样做并没有什么好处，只能给别人增加一些记忆上的麻烦。
我们还要指出，虽然主机名在互联网中必须是唯一的， IP地址在互联网中也必须是唯一 的，但**一个主机名却可以对应多个 IP地址**。关于这个问题请参考问题 6-7。

### 问题 6-5. 在互联网中通过域名系统查找某个主机的 IP 地址，和在电话系统中通过 114 查号台查找某个单位的电话号码相比，有何异同之处?
解答:
相同之处:
电话系统:在电话机上只能拨打被叫用户的电话号码才能进行通信。 114 查号台将被叫用户名字转换为电话号码告诉主叫用户。
互联网:在 IP 数据报上必须填入目的主机的 IP 地址才能发送出去。 DNS 域名系统将目的主机名字解析为(即转换为) 32 位的 IP 地址返回给源主机。
不同之处:
电话系统:必须由主叫用户拨打 114 才能进行查号。如果要查找非本市的电话号码，则 必须拨打长途电话。例如，要在南京查找北京的民航售票处的电话号码，则南京的 114 台无法给你回答。你在南京必须拨打 010-1 14 (长途电话)进行查询。
互联网:只要源主机上的应用程序遇到目的主机名需要转换为目的主机的 IP地址，就由源主机自动向域名服务器发出 DNS 查询报文。不管最后将该主机的域名解析出来的 DNS 服务器距离源主机有多远，它都能自动将解析的结果最后返回给源主机。所有这些复杂的查询过程对用户来说都是透明的。用户感觉不到这些域名解析过程。
有一种方法可以使用户体会到域名解析是需要一些时间的。在使用浏览器访问某个远地 网站时，将 URL 中的域名换成为它的点分十进制 IP 地址，看找到这个网站时是否会节省一些时间。

### 问题 6-6. 一个单位的 DNS 服务器可以采用集中式的一个 DNS 服务器，也可以采用分布 式的多个 DNS 服务器。哪一种方案更好些?
解答:这要从多方面来考虑，没有简单的答案。
从解析域名的速度 来看，在集中式的一个 DNS 服务器上进行域名解析应当比在多个分布 式的 DNS 服务器要快些。 但从管理的角度看，分层次的多级结构和分布式的 DNS 服务器要 方便得多。从计算速度方面 来考虑，一个服务器若负荷过重就会使计算速度变慢 。一 个小单位如果很少发生同时请求域名的解析，那么一个单个的域名服务器就能很好地工作。

### 问题 6-7 对 同一个域名 向 DNS 服务器发出好几次的 DNS 请求报文后，每 一次 得到的 IP 地址都不一样。这可能吗?
解答: 可能。
例如，对域名 www.yahoo.com进行解析就会出现这样的结果。产生这样的结果是这个 域名对应[多个 IP 地址 。
一个域名为什么要对应多个 IP地址呢?一般的域名没有这个必要。但有的网站的访问量 非常人。为了使 Yahoo 这个万维网服务器的负载得到平衡(因为每天访问这个站点的次数非 常多)。因此 Yahoo 网站 就设有好几个计算机，每一个计算机都运行同样的服务器软件。这些 计算机的 **IP 地址当然都是不一 样的，但它们的域名却是相同的**。这样，第一个访问该网址的 就得到第一个计算 机的 IP 地址，而第 二 个访问者就得到第二个计算机的 IP 地址，等等 。 这 样可使 Yahoo 网站所屈的各服务 器的负荷比较均匀。这就叫做**负载平衡**。

### 问题 6-8 当使用 2 Mbit/s 的宽带调制解调器上网时，经常会发现数据下载的速率远 远小于 2 Mbit/s。这是什么原因?
解答 :从你点击的万维网服务 器到你的 PC 的整个路径上，只要有一个地方出现瓶颈，数据传输的速率就要下降。
可能出现瓶颈的地力很多，如:
(I) 你所点击的万维网服务器现在访问它的用户太多，该服务器忙不过来。 
(2) 路径上某个地方出现网络拥塞，在路由器的缓存队列中排队的时间过长。 
(3) 你使用的 ISP 容陪不够大 ，上网的用户太多， ISP忙不过来 。

### 问题 6-9. ARP 和 DNS 是古有些 相似?它们有何区别?
解答:如果 说 ARP 和 DNS 有相似之处，那么这仅仅是在形式上都是主机发送出请求，然后从相应的服务器收到所需的回答。另外一点是这两个协议经常是连在 起使用的，但重要的是 :这两个协议是完全不同的 。
DNS 是应用层协议，用来请求域名服务器将连接在互联网上的某个上机的戌名韶析为 32 位的 IP 地址。在大多数情况下，本地的域名服务器很可能还不知道所请求主机的 IP 地址， 于是还要继续寻找其他的域名服务器 。这样很 可能要在互联网上寻找多次才能得到所需的结果，最后将结果发送给原来发出请求的主机(见教材的 6.1.3 节)。
ARP 是网络层协议(也有人认为它属于链路层)，它采用广播方式请求将连在本以太网上的某个主机或路由器的 32 位的 IP 地址，解析为 48 位的以人网硬件地址。

### 问题 6-10. "网关”和“路由器”是否为同义语?
解答: 在问题 4-2 中 我们已经讲过，当使用在 "IP 网关”或 "IP 路由器”中时，它们是 同义语，只不过“网关”是旧的名词 。在比较老的 RFC 文档中 经常使用的是“网关” ，实际 上就是 “路由器”。
但在某些情况下，则“网关”并不等于“路由器”，例如在电子邮件系统中的"e-mail gateway" 就属千一种应用网关，它不是路由器。

### 问题 6-11 我们常在文献上看到“远程登录”这样的名词。它的英文名字应当是 remote log-in 还是 Telnet?
这个名词有 一 个特点，就是一个中文名词对应了几个英文名词。
log-in 的标准译名是“注册"，又称“登录”。 因此“远程登录”应当可以理解为 "remote log-in"。
然而在 1997 年 7 月 18 日发布的“全国科学技术名词审定委员会推荐名(-) "中，将 Telnet 的中 文推荐名规定为“远程登录”，并在其注释中注明:”指互联网 (Internet)的远程登录服务，它允许 一 个用户登录到 一 个远程计算机系统中， 就好像用户端直接与远程计算机相连 一样。”
这表明 "Remote Login" 和 "TELNET" 以及简化 写法 "Rlogin" 都具有相同的 意思。但 在 Corner 一书中指出了 **TELNET 是远程登录服务的 TCP/IP 标准协议**。因此当我们看到“远程登录”时，应当联系上下文，看它指的是 一种 服务， 心是一种 协议 。应当记得，我们多次 强调过，服务和协议是很不一样的 。

### 问题 6-12 电话通信和电子邮件通信都是使用客户服务器工作力式吗?
解答: 互联网的电子邮件通信，当然是使用客户服务器工作方式。传统的电话通信虽然 有主叫方和被叫方(主叫方先拨号，被叫方摘机，然后通话)，但**电话通信的工作方式并不是客户服务器方式** 。然而新型的 IP 电话(使用 H.323 协议或 SIP 协议)则使用了客户服务器的工作 方式。

### 问题 6-13. {1电子邮件中，“信封"、“内容”、“首部”、“主体”是个什么样的关系?
解答 :邮件服务器依据电子邮件 信封上的信息， 将邮 件传送到目的邮件服务器。电子邮件中的“ 内容”也 称为“ 报文 " (message), 它就是用户所
写的信件。
美国人写信时，在一开始还要有**信头 (heading)**和**封内地址**(inside address)这两部分。信头是发信人的地址和日期，而封内地址是收信人的地址。因此电子邮件也必须有这两项。这两项合起来就叫做电子邮件的内容部分中的 **“首部“**，而**首部后面才是内容中的主体部分** 。
总之，电子邮件=信封+内容 内容=首部+主体 ；用户只需将内容写好，交给用户代理。用户代理自动地从内容的首部中提取有关信息， 写到信封上，交给邮件服务器发送邮件。

### 问题 6-14 在电子邮件的发展过程中， X.400 是个很有名的电子邮件系统。为什么现在不提了?
解答：1982 年，基千 TCP/IP 的 电子邮件系统 SMTP 才被提出来 [RFC 821], 并成为了互联网的正式标准，编号是 STD 10。
那个时期， ISO 还提出了一个 OSI 体系结构。在 OSI 的应用层也设计了一 个电子邮件系统，这就是写在 CCITT 的 X.400 建议书中的报文处理系统 MHS。虽然 MHS 比 SMTP 的功能丰富得多，然而，由于 MHS 比 SMTP 也复杂得多，它最终还是和 OSI 一起被 淘汰了。因此，现在用在互联网上的电子邮件系统全是 SMTP。这也再次证明了“简单者生 存”的规律。达尔文的进化论中提到“适者生存”，在互联网中，“适者”就是“简单者”。


### 问题 6-15. 有的教科书中在讲到电子邮件系统时用到 MTA。这是怎样的概念?
解答: 实际上，MTA的概念是CCITT的X.400提出的。MTA是Mail Transfer Agent的缩写，表示“邮件传送代理”，而与所使用的电子邮件协议无关。在网络中，电子邮件都是通过MTA来传送的。MTA也分客户端和服务器端。因此，在讲述电子邮件工作原理时，使用MTA是一种很好的通用名词。虽然MTA是X.400中提出的术语，但IETF还是接受了这个术语。在1993年发布的RFC1506还专门讨论了这两个不同的邮件系统的互连问题 。
因此，下面的一些意思相同的名词都是可能在有关电子邮件的文献中出 现，请读者注意。 在 RFC 821 中使用的名词:
SMTP-sender, SMTP-receiver (SMPT发送端，SMTP接收端)
在RFC2821中使用的名词:
SMTP-client,SMTP-server(SMTP客户端，SMTP服务器端)使用通用的名词MTA时:
MTA-client,MTA-server(MTA客户端，MTA服务器端)

### 问题 6-16. 能否更加细致地介绍 一 下 base64 编码?
解答:在这里只对教材上的内容做 一些补充，更详细的描述见 [RFC 2045]。 首先要对二进制比特流进行 24 位到 32 位的变换(每 6 位变换为 8 位的字符)，
Base64 变换又称为 Radix-64 编码。
Base64 变换的编码表是一个包含 65 个字符的 ASCII 码子集。
待编砃的每一个6 位组的值一定在0-63之间，因此一定可以按照上表变换为某一个可打印的 ASCII 码，这样就可以用电子邮件传送了 。 到接收瑞再进行反变换就可恢复出原来的二进制比特流。
不难看出，经过 base64 编码后 ，增加了 33.3%的开销 (6 位变换成为 8 位)，或者说，在网络上传送的数据中，有25%的开销(8 位中的2位是进行编砃变换时增加的) 。


### 问题 6-17. 能否归纳一下HTTP协议的主要特点?
解答:下面归纳了 HTTP 1.0 的主要特点。
(I) 应用层协 议 。HTTP 是 一 个应用层协议。 HTTP 使用可靠的、面向连接的运输协议 TCP,但 HTTP 协议本身并不提供可靠性机制和重传机制。
(2) 请求/响应 。一 旦建立了运输连接(这常常称为建立了会话)，浏览器端就向万维网服务器端发送 HTTP 请求，服务器收到请求后给出 HTTP 响应。
(3) 无状态。“无状态" (stateless)就是指每一个 HTTP 请求都是独立的 。 万维网服务器不保存过去的请求和过去的会话记录。这就是说，同一个用户再次访问同一个服务器时，只要 服务器没有进行内容的更新 ， 服务器的响应就给出和以前被访问时相同的响应。服务器不记 录曾经访问过的用户，也不记录某个用户访问过多少次。
(4) 双向传输。这在大多数情况下都是这样的 : 浏览器发出 HTTP 请求，服务器给出 HTTP 响应 。
(5) 能力协商。 HTTP允许浏览器和服务器协商一些细节，如在传送数据时使用的字符集。 发送端可指明它所能够提供的能力 (capability), 而接收端也能够指明它所能够接受的能力。
(6) 支持高速缓存。为了缩短响应时间，浏览器可将读取的万维网页面暂存在其高速缓存中 。 如果用户再次请求该页面，则 HTTP 允许浏览器可以对服务器进行查询，以便确定自从上次缓存了该页面后页面的内容是否有变化。
(7) 支持代理服务器。HTTP允许在浏览器和服务器之间存在一个代理服务器。代理服务器将万维网页面存放在自己的缓存中，并且从这缓存中取出页面回答浏览器的请求。

### 问题6-18.HTTPI.I 协议比起HTTP1.0协议有哪些主要的变化?
解答: HTTPI.I的最主要的变化就是改变了HTTP1.0的“无状态”这一特点。 我们知道，当用户访问某个网站时，假定该网页上有一个文本文件和 15个图形文件，那么用户要和这个万维网服务器建立总共 16 次的 TCP 连接，才能将这 16 个文件全部下载完 。 浏览器在和服务器建立好一个 TCP 连接后，就发送 HTTP 请求 ，然后得到服 务器的 HTTP 响 应，传送过来一个文件(文字的或图形的)，然后就自动断开 TCP 连接了。当点击下一个链 接时，又重复以上的步骤。
HTTP I.I 将 HTTP 1.0 的“无状态”这个特点改变了。 HTTP I.I 采用持续连接 (persistent connection)作为默认的工作方式。当浏览器和某一万维网服务器建立 TCP连接后，就可以在 同一个 TCP 连接上，传送多次的 HTTP 请求和 HTTP 响应。当浏览器或服务器要关闭 TCP 连接时，就通知对方，然后再关闭连接。
待续连接最大的好处就是减小了开销。减小了建立 TCP 连接的次数， 就减小了服务器的负担，缩短了响应时间 ，同时也减小了下层网络的开销，减少了缓存所占用的存储空间，也减少了使用的 CPU 时间 。 使用持续连接的浏览器还可以进 一 步优化对网站的访问，这就是采用流水线式的请求，即可以连续地发送请求，而不需要在收到响应后才发送下4个请求。当需要在某个页面读取多个图像文件而下层互连网络的吞吐量和时延都很大时，采用流水线式的请求就格外显得优点突出。
使用持续连接是要付出代价的。在建立TCP连接后，不论是浏览器还是服务器都不知道这个特定的TCP连接将要待续多长时间。这对服务器来说是个很主要的问题，因为可能有几于个浏览器要和这个服务器建立连接。我们应当注意到，只有连接的双方都关闭连接，TCP连接才会完全关闭。服务器端应当设置一个超时计时器，以便当一定时间内没有收到请求就可关闭这个连接。客户端和服务器端都必须注意对方是否关闭了TCP连接。若发现对方关闭了连接，那么自己这一端也应当随即关闭这个TCP连接。

### 问题 6-19. 抽象语法、传送语法的主要区别是什么?数据类型、编码以及编码规则的区别又是什么?
下面是根据 OSI 的定义对上述名词的解释 。 本教材没有介绍OSI的表示层，而TCP/IP的体系结构里也没有表示层。因此在使用TCP/IP协议族的互联网中，通信的发送端和接收端必须在其应用层协议中解决数据格式的问题。如果在发送瑞和接收端使用不同的数据格式，那么至少有一方应当完成数据格式的转换问题。
抽象语法
抽象语法描绘了与任何表示数据的编码技术无关的通用数据结构
抽象语法使得人们能够定义数据类型，并指明这些类型的值
传送语法 
当数据在两个表示层实体之间传输时，这些数据的实际比特模式表示方法就是传送语法
数据类型
一 组具名值 。一 个数据类型可能是简单的，它通过指明 一 组值来定义;也可能是结构化的，它的定义中使用了其他 一 些类型
编码 用来表示数据值的完整的八位组序列
编码规则
从一个语法到另一个语法的映射规约。具体地说，编码规则从算法上定义了任何 一 组由抽象语法定义的 数据值在传送语法中的表示
抽象语法只描述数据的结构形式，与具体的编码格式无关，同时也不涉及这些数据结构在计算机内如何存放。图 Q-6-19 以两个端系统通过网络交换数据为例来说明上述的一些概念。
 运输实体所看到的数据是应用实体交下来的、根据一定的编码规则进行编码的二进制代码。但应用实体看到的则是一个用户观点的数据，通常是结构化的信息，如文本文档或可显示的图像信息。用户主要关心的是数据的语义。因此应用实体必须提供数据的表示方法，使得这些数据能够转换为二进制值。也就是说，应用实体必须考虑到数据的语法。

### 习题与解答
### <6-01 > 互联网的域名结构是怎样的?它与目前的电话网的号码结构有何异同之处?
解答:互联网的域名系统DNS(DomainNameSystem)被设计成为一个联机分布式数据库系统，并采用客户服务器方式。互联网的域名结构采用了层次树状结构的命名方法，就像全球邮政系统和电话系统那样。采用这种命名方法，任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名。”域”是名字空间中一个可被管理的划分。域还可以划分为子域，而子域还可继续划分为子域的子域，这样就形成了顶级域、二级域、三级域，等等。
从语法上讲，每一个域名都是由标号序列组成的，而各标号之间用点隔开。
DNS规定，域名中的标号都由英文字母和数字组成，每一个标号不超过63个字符，也不区分大小写字母。标号中除连字符(-)外不能使用其他的标点符号。级别最低的域名写在最左边，而级别最高的顶级域名则写在最右边。由多个标号组成的完整域名总共不超过255个字符。DNS既不规定一个域名需要包含多少个下级域名，也不规定每一级的域名代表什么意思。各级域名由其上一级的域名管理机构管理，而最高的顶级域名则由ICANN进行管理。用这种方法可使每一个域名在整个互联网范围内是唯一的，并且也容易设计出一种查找域名的机制。
互联网的域名结构与目前的电话网的号码结构的相同点:
互联网的域名结构与目前的电话网的号码结构都是树状结构，每一个域名和每一个电话号码在系统中都是唯一的。
不同点:
打电话时按号码打即可，但在互联网中，还不能按域名直接通信，必须经过域名系统进行从域名到IP地址的转换(这个过程称为解析)。得到了IP地址，才能进行通信。
固定电话号码可以反映出地理位置。例如，固定电话号码(8625)xxxxxxxx的地理位置肯定在中国南京，但如果使用类别域名，则域名与地理位置并无对应关系。例如，在.com下注册的域名abc.com,就可能位千世界上任何一个国家。如果使用行政区域名，则域名与行政区有对应关系。例如，域名abc.js.cn就对应于地理位置在中国江苏省的某个公司或机构。

### 【6-02】 域名系统的主要功能是什么?域名系统中的本地域名服务器、根域名服务器、 顶级域名服务器以及权限域名服务器有何区别?
解答:域名系统DNS是互联网使用的命名系统，用来把便千人们使用的机器名字转换为IP地址。在域名系统中使用了层次结构的许多域名服务器。
本地域名服务器离用户较近，一般不超过几个路由器的距离。当一个主机发出DNS查询请求时，这个查询咱求报文就发送给本地域名服务器。当所要查询的主机也属千同一个本地ISP时，该本地域名服务器立即就能将所查询的主机名转换为它的IP地址，而不需要再去询问其他的域名服务器。
根域名服务器是最高层次的域名服务器，也是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和IP地址。根域名服务器是最重要的域名服务器，因为不管是哪一个本地域名服务器，若耍对互联网上任何一个域名进行解析(即转换为IP地址)，只要自己无法解析，就首先要求助千根域名服务器。
顶级域名服务器负责管理在该顶级域名服务器注册的所有二级域名。当收到DNS查询请求时，就给出相应的回答(可能是最后的结果，也可能是下一步应当找的域名服务器的IP地址)。
一个服务器所负责管辖的(或有权限的)范围叫做区。各单位根据具体情况来划分自己管辖范围的区。但在一个区中的所有节点必须是能够连通的。每一个区设置相应的权限域名服务器，用来保存该区中的所有主机的域名到IP地址的映射。因此，权限域名服务器是负责一个区的域名服务器。当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的DNS客户，下一步应当找哪一个权限域名服务器。

### <6-03 > 举例说明域名转换的过程。域名服务器中的高速缓存的作用是什么?
解答域名到IP地址的解析过程的要点如下:当某一个应用进程需要把主机名解析为IP地址时，该应用进程就调用解析程序，并成为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报方式发给本地域名服务器(使用UDP是为了减少开销)。本地域名服务器在查找域名后，把对应的IP地址放在回答报文中返回。应用进程获得目的主机的IP地址后即可进行通信。
若本地域名服务器不能回答该请求，则此域名服务器就暂时成为DNS中的另一个客户，并向其他域名服务器发出查询请求。这种过程直至找到能够回答该请求的域名服务器为止。
为了提高域名服务器的可靠性，DNS域名服务器都把数据复制到几个域名服务器来保存，其中的一个是主域名服务器，其他的是辅助域名服务器。当主域名服务器出故障时，辅助域名服务器可以保证DNS的查询工作不会中断。主域名服务器定期把数据复制到辅助域名服务器中，而更改数据只能在主域名服务器中进行。这样就保证了数据的一致性。
主机向本地域名服务器的查询一般都是采用递归查询。本地域名服务器向根域名服务器的查询通常是采用迭代查询。根域名服务器通常是把自已知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地域名服务器下一步应当向哪一个权限域名服务器进行查询，本地域名服务器就这样进行迭代查询。最后，知道了所要解析的域名的IP地址，然后把这个结果返回给发起查询的主机。当然，本地域名服务器也可以采用递归查询，这取决千最初的查询请求报文的设置是要求使用哪一种查询方式。递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。
为了提高DNS查询效率，并减轻根域名服务器的负荷和减少互联网上的DNS查询报文数量，在域名服务器中广泛地使用了高速缓存(有时也称为高速缓存域名服务器)。高速缓存 用来存放最近查询过的域名，以及从何处获得域名映射信息的记录。

 ### 【6-04】设想 有·大整个互联网的 DNS 系统都瘫痪了 (这种情况不大会出现)，试 问还 有可能 给朋友发 送电子邮件吗?
解答:有可能，如果你能够直接使用对方的邮件服务器的 IP 地址 。

