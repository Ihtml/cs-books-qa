- [问题3-1. 旧版的《计算机网络》认为数据链路层的任务是在两个相邻结点间的线路上无 差错地传送以帧 (frame)为单位的数据 。 数据链路层可以把一条有可能出差错的实际 链路转变成为让网络层向下看起来好像是 一 条不出差错的链路。但最近新版的 《计算机网络》(第 4 版到第 7 版)中对数据链路层的提法就改变了。 数据链路层的传输不能让网络层向下看起来好像是 一 条不出差错的链路 。 到底哪一种说法是正确的?](#问题3-1-旧版的计算机网络认为数据链路层的任务是在两个相邻结点间的线路上无-差错地传送以帧-frame为单位的数据--数据链路层可以把一条有可能出差错的实际-链路转变成为让网络层向下看起来好像是-一-条不出差错的链路但最近新版的-计算机网络第-4-版到第-7-版中对数据链路层的提法就改变了-数据链路层的传输不能让网络层向下看起来好像是-一-条不出差错的链路--到底哪一种说法是正确的)
- [问题 3-2. 当数据链路层使用 PPP 协议或 CSMA/CD 协议时，既然不保证可靠传输，那么为什么对所传输的帧进行差错检验呢?](#问题-3-2-当数据链路层使用-ppp-协议或-csmacd-协议时既然不保证可靠传输那么为什么对所传输的帧进行差错检验呢)
- [问题 3-3. 为什么旧版本的教材在数据链路层一章中讲授可靠传输，但现在新版本教材则 取消了可靠传输?](#问题-3-3-为什么旧版本的教材在数据链路层一章中讲授可靠传输但现在新版本教材则-取消了可靠传输)
- [问题 3-4. 通过普通的电话用户线拨号上网时(使用调制解调器)，试问一对用户线可容许多少个用户同时上网?](#问题-3-4-通过普通的电话用户线拨号上网时使用调制解调器试问一对用户线可容许多少个用户同时上网)
- [问题3-5. 除了差错检测外，面向字符的数据链路层协议还必须解决哪些特殊的问题?](#问题3-5-除了差错检测外面向字符的数据链路层协议还必须解决哪些特殊的问题)
- [问题 3-6. 为什么计算机进行通信时发送缓存和接收缓存总是需要的?](#问题-3-6-为什么计算机进行通信时发送缓存和接收缓存总是需要的)
- [问题 3-7. 以太网使用载波监听多点接入碰撞检测协议 CSMA/CD。频分复用 FDM 使用载波。以太网有没有使用频分复用?](#问题-3-7-以太网使用载波监听多点接入碰撞检测协议-csmacd频分复用-fdm-使用载波以太网有没有使用频分复用)
- [问题 3-8. 在以太网中，不同的传输媒体会产生不同的传播时延吗?](#问题-3-8-在以太网中不同的传输媒体会产生不同的传播时延吗)
- [问题 3-9. 在以太网中发生了碰撞是否说明这时出现了某种故障?](#问题-3-9-在以太网中发生了碰撞是否说明这时出现了某种故障)
- [问题 3-11. 是什么原因使以太网有一个最小帧长和最大帧长?](#问题-3-11-是什么原因使以太网有一个最小帧长和最大帧长)
- [问题 3-12. 在双绞线以太网中，其连接导线只需要两对线: 一 对线用千发送，另 -对线 用千接收。 但现在的标准是使用 RJ-45 连接器。这种连接器有 8 根针脚， 一共可连 接 4 对线，这是否有些浪费?是否可以不使用 RJ-45 而使用 RJ-11?](#问题-3-12-在双绞线以太网中其连接导线只需要两对线-一-对线用千发送另--对线-用千接收-但现在的标准是使用-rj-45-连接器这种连接器有-8-根针脚-一共可连-接-4-对线这是否有些浪费是否可以不使用-rj-45-而使用-rj-11)
- [问题 3-13. RJ-45 连接器对 8 根针脚的编号有什么规定?](#问题-3-13-rj-45-连接器对-8-根针脚的编号有什么规定)
- [问题 3-17. 使用屏蔽双绞线电缆 STP 安装以太网，是否可获得更好的效果?](#问题-3-17-使用屏蔽双绞线电缆-stp-安装以太网是否可获得更好的效果)
- [问题 3-18. 如果将已有的 10 Mbit/s 以太网升级到 JOO Mbit/s, 试问原来使用的连接导线 是否还能继续使用?](#问题-3-18-如果将已有的-10-mbits-以太网升级到-joo-mbits-试问原来使用的连接导线-是否还能继续使用)
- [问题 3-19. 使用 5 类线的 IOBASE-T 以太网的最大传输距离是 100m。但听到有人说，他 使用 IOBASE-T 以太网传送数据的距离达到 180m。这可能吗?](#问题-3-19-使用-5-类线的-iobase-t-以太网的最大传输距离是-100m但听到有人说他-使用-iobase-t-以太网传送数据的距离达到-180m这可能吗)
- [问题 3-20 粗缆以太网有一个单独的收发器 。 细缆以太网和双 绞线以太网有没有收发器?如果有，都在什么地方?](#问题-3-20-粗缆以太网有一个单独的收发器--细缆以太网和双-绞线以太网有没有收发器如果有都在什么地方)
- [问题 3-21 什么叫做“星形总线 (star-shaped bus)" 或“盒中总线 (bus-in-a-box)" ?](#问题-3-21-什么叫做星形总线-star-shaped-bus-或盒中总线-bus-in-a-box-)
- [问题 3-22. 以太网的覆盖范围受限的 一 个原因是 : 如果站点之间的距离太大，那么 由于 信号传输时会衰减得很多因而无法对信号进行可靠的接收 。 试问:如果我们 设法提 高发送信号的功率，那么是否就可以增大以太网的通信距离?](#问题-3-22-以太网的覆盖范围受限的-一-个原因是--如果站点之间的距离太大那么-由于-信号传输时会衰减得很多因而无法对信号进行可靠的接收--试问如果我们-设法提-高发送信号的功率那么是否就可以增大以太网的通信距离)
- [问题 3-23. 一 个大学能否就使用一个很大的局域网，而不使用许多相互连接的较小的局域网?](#问题-3-23-一-个大学能否就使用一个很大的局域网而不使用许多相互连接的较小的局域网)
- [问题 3-24. 一 个 10 Mbit/s 以太网若工作在全双工状态，那么其数据率是发送和接收各为5 MbitJs 还是发送和接收各为 10 MbitJs?](#问题-3-24-一-个-10-mbits-以太网若工作在全双工状态那么其数据率是发送和接收各为5-mbitjs-还是发送和接收各为-10-mbitjs)
- [问题 3-25. 一 个单个的以太网上所使用的网桥数目有没有上限?](#问题-3-25-一-个单个的以太网上所使用的网桥数目有没有上限)
- [间题 3-26. 当我们在 PC 上插上以太网的适配器(网卡)后，是否还必须编制以太网所需的 MAC 协议的程序?](#间题-3-26-当我们在-pc-上插上以太网的适配器网卡后是否还必须编制以太网所需的-mac-协议的程序)
- [问题 3-27. 使用网络分析软件可以分析出所捕获到的每一个帧的首部中各个字段的值， 但是有时却无法找出 LLC 帧首部的各字段的值。这是什么原因?](#问题-3-27-使用网络分析软件可以分析出所捕获到的每一个帧的首部中各个字段的值-但是有时却无法找出-llc-帧首部的各字段的值这是什么原因)
- [问题 3-28. 整个 IEEE 802 委员会现在一共有多少个工作组?](#问题-3-28-整个-ieee-802-委员会现在一共有多少个工作组)
- [问题 3-29. 在 一 些文献和教材中，可以见到关于以太网的“前同步码" (preamble)有两种 不同的说法 。一 种说法是:前同步码共 8 个字节。另一种说法是:前同步码共 7 个 字节，而在前同步码后面还有一个字节的"帧开始定界符" SFD (Start-of-Frame Delimiter)。 那么哪 一 种说法是正确的呢?](#问题-3-29-在-一-些文献和教材中可以见到关于以太网的前同步码-preamble有两种-不同的说法-一-种说法是前同步码共-8-个字节另一种说法是前同步码共-7-个-字节而在前同步码后面还有一个字节的帧开始定界符-sfd-start-of-frame-delimiter-那么哪-一-种说法是正确的呢)
- [问题 3-31 . 在 802.3 标准中有没有对人为干扰信号 (jamming signal)制定出标准呢?](#问题-3-31--在-8023-标准中有没有对人为干扰信号-jamming-signal制定出标准呢)
- [问题 3-32. 在以太网中，有没有可能在发送了 512 bit (64 B)以 后才发生碰撞?](#问题-3-32-在以太网中有没有可能在发送了-512-bit-64-b以-后才发生碰撞)
- [问题 3-33. 在有的文献中会见到 Runt 和 Jabber 这两个名词，它们是什么意思?](#问题-3-33-在有的文献中会见到-runt-和-jabber-这两个名词它们是什么意思)
- [问题 3-34. 当局域网刚刚问世时，总线形的以太网被认为可靠性比星形结构的网络好 。 但现在以太网又回到了星形结构，使用集线器作为交换结点 。那么 以前的看法是否 有些不正确?](#问题-3-34-当局域网刚刚问世时总线形的以太网被认为可靠性比星形结构的网络好--但现在以太网又回到了星形结构使用集线器作为交换结点-那么-以前的看法是否-有些不正确)
- [习题解答](#习题解答)
- [<3-01 > 数据链路(即逻辑链路)与链路(即物理链路)有何区别?“电路接通了”与 “数据链路接通了"的 区别何在?](#3-01--数据链路即逻辑链路与链路即物理链路有何区别电路接通了与-数据链路接通了的-区别何在)
- [【3-02】 数据链路层中的链路控制包括哪些功能?试讨论把数据链路层做成可靠的链 路层有哪些优点和缺点 。](#3-02-数据链路层中的链路控制包括哪些功能试讨论把数据链路层做成可靠的链-路层有哪些优点和缺点-)
- [<3-03> 网络适配器的作用是什么?网络适配器工作在哪一层? '](#3-03-网络适配器的作用是什么网络适配器工作在哪一层-)
- [<3-04 > 数据链路层的 三 个基本问题(封装成帧、透明传输和差错检测)为什么都必须加以解决?](#3-04--数据链路层的-三-个基本问题封装成帧透明传输和差错检测为什么都必须加以解决)
- [<3-05 > 如果在数据链路层不进行封装成帧，会发生什么问题?](#3-05--如果在数据链路层不进行封装成帧会发生什么问题)
- [【3-06】 PPP 协议的主要特点是什么?为什么 PPP 不使用帧的编号? PPP 适用千什么情 况?为什么 PPP 协议不能使数据链路层实现可靠传输?](#3-06-ppp-协议的主要特点是什么为什么-ppp-不使用帧的编号-ppp-适用千什么情-况为什么-ppp-协议不能使数据链路层实现可靠传输)
- [【3-07】 要发送的数据为 1101011011 。 采用 CRC 的生成多项式是 P(X) = x4 + X + 1 。 试 求应添加在数据后面的余数。数据在传输过程中最后一个1变成了O, 问接收端能否发现? 若数据在传输过程中最后两个1都变成了0, 问接收端能否发现? 采用 CRC 检验后，数据链路层的传输是否就变成了可靠的 传输?](#3-07-要发送的数据为-1101011011--采用-crc-的生成多项式是-px--x4--x--1--试-求应添加在数据后面的余数数据在传输过程中最后一个1变成了o-问接收端能否发现-若数据在传输过程中最后两个1都变成了0-问接收端能否发现-采用-crc-检验后数据链路层的传输是否就变成了可靠的-传输)
- [【3-08】要发送的数据为 101110。采用 CRC 的生成多项式是 P(X) =x3 + 1。试求应添加 在数据后面的余数。](#3-08要发送的数据为-101110采用-crc-的生成多项式是-px-x3--1试求应添加-在数据后面的余数)
- [【3-09】一个 PPP 帧的数据部分(用十六进制写出)是 7D 5E FE 27 7D 5D 7D 5D 65 7D 5E。 试问真正的数据是什么(用十六进制写出)?](#3-09一个-ppp-帧的数据部分用十六进制写出是-7d-5e-fe-27-7d-5d-7d-5d-65-7d-5e-试问真正的数据是什么用十六进制写出)
- [【3-10】 PPP 协议使用同步传输技术传送比特串 0110111 111111100。 试问经过零比特填 充后变成怎样的比特串?若接收端收到的 PPP 帧的数据部分是 0001110111110111110110, 问删除发送端加入的零比特后变成怎样的比特串?](#3-10-ppp-协议使用同步传输技术传送比特串-0110111-111111100-试问经过零比特填-充后变成怎样的比特串若接收端收到的-ppp-帧的数据部分是-0001110111110111110110-问删除发送端加入的零比特后变成怎样的比特串)
- [【3-11 】试分别讨论以下各种情况在什么条件下是透明传输，在什么条件下不是透明传轮。(提示:请弄清什么是“透明传输"，然后考虑能否满足其条件。)](#3-11-试分别讨论以下各种情况在什么条件下是透明传输在什么条件下不是透明传轮提示请弄清什么是透明传输然后考虑能否满足其条件)
- [【3-12】 PPP 协议的工作状态有哪几种?当用户要使用 PPP 协议和 ISP 建立连接进行通信时，需要建立哪几种连接?每 一 种连接解决什么问题?](#3-12-ppp-协议的工作状态有哪几种当用户要使用-ppp-协议和-isp-建立连接进行通信时需要建立哪几种连接每-一-种连接解决什么问题)
- [<3-13 > 局域网的主要特点是什么?为什么局域网采用广播通信方式而广域网不采用呢?](#3-13--局域网的主要特点是什么为什么局域网采用广播通信方式而广域网不采用呢)
- [【3-14】 常用的局域网的网络拓扑有哪些种类?现在最流行的是哪种结构?为什么早 期的以太网选择总线拓扑结构而不使用星形拓扑结构，但现在却改为使用星形 拓扑结构?](#3-14-常用的局域网的网络拓扑有哪些种类现在最流行的是哪种结构为什么早-期的以太网选择总线拓扑结构而不使用星形拓扑结构但现在却改为使用星形-拓扑结构)
- [<3-15 > 什么叫做传统以太网?以太网有哪两个主要标准?](#3-15--什么叫做传统以太网以太网有哪两个主要标准)
- [<3-16> 数据率为 lOMbit/s 的以太网在物理媒体上的码元传输速率是多少码元/秒?](#3-16-数据率为-lombits-的以太网在物理媒体上的码元传输速率是多少码元秒)
- [<3-17 > 为什么 LLC 子层的标准己制定出来了但现在却很少使用?](#3-17--为什么-llc-子层的标准己制定出来了但现在却很少使用)
- [<3-18> 试说明 IOBASE-T 中的 "IO"、 "BASE" 和 "T" 所代表的意思。](#3-18-试说明-iobase-t-中的-io-base-和-t-所代表的意思)
- [<3-19 > 以太网使用的 CSMA/CD 协议是以争用方式接入到共享信道的。这与传统的时 分复用 TOM 相比优缺点如何?](#3-19--以太网使用的-csmacd-协议是以争用方式接入到共享信道的这与传统的时-分复用-tom-相比优缺点如何)
- [<3-20 > 假定 I km 长的 CSMA/CD 网络的数据率为 I Gbit/s。设信号在网络上的传播速 率为 200 000 km/s。求能够使用此协议的最短帧长。](#3-20--假定-i-km-长的-csmacd-网络的数据率为-i-gbits设信号在网络上的传播速-率为-200-000-kms求能够使用此协议的最短帧长)
- [<3-21 > 什么叫做比特时间?使用这种时间单位有什么好处? 100 比特时间是多少微秒?](#3-21--什么叫做比特时间使用这种时间单位有什么好处-100-比特时间是多少微秒)
- [[3-22 > 假定在使用 CSM凶 CD 协议的 10 Mbit/s 以太网中，某个站在发送数据时检测到碰撞，执行退避算法时选择了随机数 r= 100。试问这个站需要等待多长时间 后才能再次发送数据?如果是 100 Mbit/s 的以太网呢?](#3-22--假定在使用-csm凶-cd-协议的-10-mbits-以太网中某个站在发送数据时检测到碰撞执行退避算法时选择了随机数-r-100试问这个站需要等待多长时间-后才能再次发送数据如果是-100-mbits-的以太网呢)
- [<3-23 > 教材上的公式 (3-3)表示，以太网的极限信道利用率与连接在以太网上的站点数 无关。能否由此推论出:以太网的利用率也与连接在以太网上的站点数无关? 请说明你的理由。](#3-23--教材上的公式-3-3表示以太网的极限信道利用率与连接在以太网上的站点数-无关能否由此推论出以太网的利用率也与连接在以太网上的站点数无关-请说明你的理由)
- [<3-24 >假定站点 A 和 B 在同一个 10 Mbit/s 以太网网段上。这两个站点之间的传播时 延为 225 比特时间。现假定 A 开始发送一帧，并且在 A 发送结束之前 B 也发 送一帧。如果 A 发送的是以太网所容许的最短的帧，那么 A 在检测到和 B 发 生碰撞之前能否把自己的数据发送完毕?换言之，如果 A 在发送完毕之前并没 有检测到碰撞，那么能否肯定 A 所发送的帧不会和 B 发送的帧发生碰撞?(提 示:在计算时应当考虑到每 一 个以太网帧在发送到信道上时，在 MAC 帧前面 还要增加若干字节的前同步码和帧定界符。)](#3-24-假定站点-a-和-b-在同一个-10-mbits-以太网网段上这两个站点之间的传播时-延为-225-比特时间现假定-a-开始发送一帧并且在-a-发送结束之前-b-也发-送一帧如果-a-发送的是以太网所容许的最短的帧那么-a-在检测到和-b-发-生碰撞之前能否把自己的数据发送完毕换言之如果-a-在发送完毕之前并没-有检测到碰撞那么能否肯定-a-所发送的帧不会和-b-发送的帧发生碰撞提-示在计算时应当考虑到每-一-个以太网帧在发送到信道上时在-mac-帧前面-还要增加若干字节的前同步码和帧定界符)
- [<3-25> 在上题中的站点A和B在t=0时同时发送了数据帧。当t=225比特时间， A 和 B 同时检测到发生了碰撞，并且在 t= 225 +48 = 273 比特时间完成了干扰信 号的传输。 A和 B在 CSMA/CD算法中选择不同的 r值退避。 假定 A和 B选 择的随机数分别是 rA =O 和 rs= 1o 试问 A 和 B 各在什么时间开始重传其数据 帧? A 重传的数据帧在什么时间到达 B? A 重传的数据会不会和 B 重传的数据 再次发送碰撞? B 会不会在预定的重传时间停止发送数据?](#3-25-在上题中的站点a和b在t0时同时发送了数据帧当t225比特时间-a-和-b-同时检测到发生了碰撞并且在-t-225-48--273-比特时间完成了干扰信-号的传输-a和-b在-csmacd算法中选择不同的-r值退避-假定-a和-b选-择的随机数分别是-ra-o-和-rs-1o-试问-a-和-b-各在什么时间开始重传其数据-帧-a-重传的数据帧在什么时间到达-b-a-重传的数据会不会和-b-重传的数据-再次发送碰撞-b-会不会在预定的重传时间停止发送数据)
- [帧间最小间隔](#帧间最小间隔)
- [<3-26 > 以太网上只有两个站，它们同时发送数据，产生了碰撞。千是按截断 二 进制指 数退避算法进行重传。重传次数记为 i, i=l,2,3, ...。 试计算第 1 次重传失败 的概率、第 2 次重传失败的概率、第 3 次重传失败的概率，以及一个站成功发 送数据之前的平均重传次数 I。](#3-26--以太网上只有两个站它们同时发送数据产生了碰撞千是按截断-二-进制指-数退避算法进行重传重传次数记为-i-il23--试计算第-1-次重传失败-的概率第-2-次重传失败的概率第-3-次重传失败的概率以及一个站成功发-送数据之前的平均重传次数-i)
- [【3-27】 有 10 个站连接到以太网上 。 试计算以下 三 种情况下每 一 个站所能得到的带宽 。](#3-27-有-10-个站连接到以太网上--试计算以下-三-种情况下每-一-个站所能得到的带宽-)

### 问题3-1. 旧版的《计算机网络》认为数据链路层的任务是在两个相邻结点间的线路上无 差错地传送以帧 (frame)为单位的数据 。 数据链路层可以把一条有可能出差错的实际 链路转变成为让网络层向下看起来好像是 一 条不出差错的链路。但最近新版的 《计算机网络》(第 4 版到第 7 版)中对数据链路层的提法就改变了。 数据链路层的传输不能让网络层向下看起来好像是 一 条不出差错的链路 。 到底哪一种说法是正确的?
解答:旧版的 《计算机网络》对数据链路层的阐述是基千 OSI 体系结构的 。 OSI 体系结 构的数据链路层采用的是面向连接的 HDLC 协议，它提供可靠传输的服务。因此，旧版《计 算机网络》的提法是与 OSI 体系结构 一 致的 。
2003 年以后新版的《计算机网络》更加突出 了 TCP/IP 体系 结构。现在互联网的数据链 路层协议使用得最多的就是 PPP 协议和 CSM凶CD 协议(这种情况就是使用拨号入网或使用 以太网入网)。这两种协议**都不使用序号和确认机制**，因此也就不能“让网络层向下看起来好 像是一条不出差错的链路。”所以，新版《计算机网络》的提法**符合当前计算机网络的现状**。 当接收端通过差错检测发现帧在传输中出了差错，或者默默丢弃(silently discard)而不进行任何其他处理(当使用 PPP 协议或 CSM幻CD 协议时)，这是现在的大多数情况;或者使用重传机制要求发送方重传(当使用 HDLC协议时)，但这种情况现在很少使用。
如果需要可靠传输，那么就由高层的 TCP 协议负责重传。但数据链路层并不知道这是重传的帧。

### 问题 3-2. 当数据链路层使用 PPP 协议或 CSMA/CD 协议时，既然不保证可靠传输，那么为什么对所传输的帧进行差错检验呢?
解答:当数据链路层使用 PPP 协议或 CSMA/CD 协议时，在数据链路层的接收端对所传输的帧进行差错检验是为了不将已经发现的有差错的帧(不管是什么原因造成的)收下来。 如果在接收端不进行差错检测，那么接收端上交给主机的帧就可能包括在传输中出了差错的帧，而这样的帧对接收端主机是没有用处的。
换言之，接收端进行差错检测的目的是:“上交主机的帧都是没有传输差错的，有差错的都已经丢弃了。”或者更加严格地说，应当是:“我们以很接近千 1 的概率认为，凡是上交主机的帧，都是没有传输差错的 。”

### 问题 3-3. 为什么旧版本的教材在数据链路层一章中讲授可靠传输，但现在新版本教材则 取消了可靠传输?
解答:保证可靠传输的停止等待协议是计算机网络协议的基础内容之 一。新的版本只是挪动了可靠传输这部分内容的位置，而不是取消这部分内容。
把这部分放在前面的数据链路层 一章中讲的好处是，可以更早些建立可靠传输的概念(因为我们是自下而上，先讲数据链路层，后讲运输层)。但缺点是实际上的数据链路层现在基本 上并不使用可靠传输，因此放在数据链路层中讲可靠传输有些不符合实际。况且以后到运输 层用到可靠传输时，学生有可能又会遗忘了一些。
把这部分内容放在运输层中讨论的好处是比较符合实际情况，讲完简单的可靠传输的概念后，接着就介绍比较复杂的滑动窗口概念可以取得更好的效果。这也是作者试图改变一下整个教材的结构的一种尝试。

### 问题 3-4. 通过普通的电话用户线拨号上网时(使用调制解调器)，试问一对用户线可容许多少个用户同时上网?
 解答:这并没有限制 。 但用户数目越多，则每一个用户的上网速率就越低。
多个用户共同使用一对电话线拨号上网有时是很有用的 。 例如， 一个办公室内只有一对电话用户线可供拨号上互联网，但办公室内有多人在办公，他们都有自己的 PC, 而且都想同时使用拨号上网 。 这时可将所有用户的 PC 都用以太网连接起来(当然每 一 台 PC 都必须安装 一 个以太网卡) 。 只有 一 台 PC 要特殊些，即需要同时安装以太网卡和拨号上网卡(或使用外
置的调制解调器)。这台特殊的 PC 通常叫做代理服务器，它通过调制解调器用拨号方式与本地的 ISP 相连。代理服务器必须安装专门的软件(如 Wingate 2.0), 同时还要完成一些必要的配置，这样就能使连接在以太网上的各 PC 用共享一个调制解调器的方式同时上网。 ISP 并不知道有多少人共享一个调制解调器。 ISP 只知道现在是这台代理服务器在使用拨号上网。 ISP 只需分配一个临时的 IP 地址给此代理服务器暂时使用 。

### 问题3-5. 除了差错检测外，面向字符的数据链路层协议还必须解决哪些特殊的问题?
解答:最主要的就是要解决**帧定界**和**透明传输**的问题。
帧定界就是要使接收端能够知道一帧的开始和结束是在什么地方。面向字符的数据传输就是所传输的数据全都是一个个的字符，例如 ASCII 字符。因此，在每一帧的开始和结束的地方，必须有 一个 特殊的字符来作为标志 ，字符 SOH 代表 Start Of Header (首部开始) ，而 EOT 代表 End Of Transmission (传输结 束)。请注意， SOH 和 EOT 都是 ASCII 码中的控制字符。 SOH 的十六进制编码是 01, 而 EOT 的十六进制编码是 04。不要误认为 SOH 是 "S" "O" "H" 三个字符， 也不要误认为 EOT 是"E" "O" "T" 三个字符。
解决了帧定界后，在接收端就可以确定一个帧的开始和结束，剩下的问题就是透明传输的问题。
**透明传输**实际上就是随便什么字符都可以传输 。但设想我 们在帧中传送的字符出现了 一 个控制字符 "EOT"。那么接收端收到这样的数据后，就会将原来的 SOH 和数据中的 "EOT" 错误地解释为一个帧，但对后面剩下的字符根本就无法解释(图Q-3-5-a)。
像这样的传输显然就不是"透明传输"，因为当遇到数据中的字符 "EOT" 时就传不过去 了，它被接收端解释为控制字符。实际上此处的字符 "EOT " 并非控制字符而是一般数据 。 为了解决透明传输问题 ， 就必须设法将数据中可能出现的控制字符 "SOH" 和 "EOT" 在接收瑞不解释为控制字符。方法是:在数据中出现字符 "SOH" 或 "EOT" 时就将其转换为另一个字符，而这个字符是不会被错误解释的 。 但所有字符都有可能在数据中出现。千是 就想出了这样的办法:将数据中出现的字符 "SOH" 转换为 "ESC" "X" 这样两个字符，将数据中出现的字符 "EOT" 转换为 "ESC" "y" 这样两个字符。而当数据中出现了控制字符
"ESC" 时，就将其转换为 "ESC" "z" 这样两个字符。这种转换方法就能够在接收端正确 地还原为原来的数据。 "ESC" 是转义符， 它的十六进制编码是 1B。
读者可以很容易地看出，在接收端只要按照以上转换规则进行相反的转换，就能够还原出原来的数据(例如遇到 "ESC" "z" 就还原为 "ESC") 。
以上就是实现透明传输的原理。

### 问题 3-6. 为什么计算机进行通信时发送缓存和接收缓存总是需要的? 
解答:当计算机的两个进程(在同一台机器中或在两个不同的机器中)进行通信时，如果发送进程将数据直接发送给接收进程，那么这两个动作(一个是发送，另一个是接收)是 非常难以协调好的。这是因为计算机的动作很快，如果在某一时刻接收进程开始执行接收的 动作，但发送进程的发送动作稍微早了一点或稍微晚了一点(在收发双方事先未进行同步的 情况下，**发送时刻不可能恰好和接收时刻精确地重合**)，这都会使接收失败。因此，在计算机
进程之间的通信过程中，广泛使用缓存。 缓存就是在计算机的存储器中设置的一个临时存放数据的空间。发送进程将欲发送的数
据先写入缓存，然后接收进程在合适的时机读出这些数据。 缓存有点像邮局在街上设立的邮筒 。 我们可以在方便时将欲发送的信件丢到邮筒中。邮局的邮递员按照他的计划在适当时候打开邮筒，将大家投入的信件取走，交到邮局，进行下 一步处理。
缓存可以很好地解决发送速率和接收速率不一致的矛盾，还可以很方便地进行串并转换， 即比特流串行写入并行读出，或并行写入串行读出。
缓存也可称为“缓冲”或“缓冲区”。英文就是 buffer。

### 问题 3-7. 以太网使用载波监听多点接入碰撞检测协议 CSMA/CD。频分复用 FDM 使用载波。以太网有没有使用频分复用?
解答:这里的"载波”并非指频分复用 FDM 的载波 。 CSMA/CD 协议的发明者故意使用了大家早已熟悉的旧名词 Carrier (载波)来表示连接在以太网上的工作站检测到了其他工作站发送到以太网上的电信号 。

### 问题 3-8. 在以太网中，不同的传输媒体会产生不同的传播时延吗?
解答:是的 。在以太网中，不同的传输媒体会产生不同的传播时延。表 Q-3-8 是典型的测量结果:

### 问题 3-9. 在以太网中发生了碰撞是否说明这时出现了某种故障? 
解答:还不能这样看。
以太网中发生碰撞是很正常的现象。发生碰撞只是表明在以太网上同时有两个或更多的 站在发送数据。碰撞的结果是这些站所发送的数据都没有用了，都必须进行重传。以太网上 发生碰撞的机会是多还是少，与以太网上的通信量强度有很大的关系。这并没有一个绝对的定量的准则。很难说具有多大的碰撞次数就属千坏的以太网。

### 问题 3-11. 是什么原因使以太网有一个最小帧长和最大帧长?
解答:我们知道，在以 太网上发送一个帧时，并非全网都能瞬时地检测 出这个帧的发送 。 这是因为电磁波在以太网上的传播速度是有限的。当某个站刚刚发送数据后不久就检测到发 生冲突时，就必须丢弃这个受到损伤的帧。这种帧就是因发生碰撞而异常中止的短帧。如果 一个站只有非常少的数据要发送，帧就会很短。如果让这种帧在以太网上传送，那么就无法 和因发生碰撞而异常中止的短帧相区分。前者是有用的帧，而后者是无用的帧。
现在设置最小帧长就是为了区分开这两种情况。对千有用的非常短的帧，以太网标准规 定要在数据部分进行填充，使其长度达到以太网标准规定的最小帧长的长度。因发生碰撞而 异常中止的短帧的长度肯定都是小于最小帧长的长度。
如果以太网上偶尔出现噪声，这也会形成很短的帧，其长度也是小于以太网标准规定的 最小帧长的长度。规定了最小帧长就可以把由噪声产生的短帧丢弃。
设置最大帧长是为[保证各个站都能公平竞争接入到以太网。因为如果某个站发送特长 的数据帧，则其他的站就必须等待很长的时间才能发送数据。

 ### 问题 3-12. 在双绞线以太网中，其连接导线只需要两对线: 一 对线用千发送，另 -对线 用千接收。 但现在的标准是使用 RJ-45 连接器。这种连接器有 8 根针脚， 一共可连 接 4 对线，这是否有些浪费?是否可以不使用 RJ-45 而使用 RJ-11?
解答:对 千 IOBASE-T 以太网的确只使用两对线。这样在 RJ-45 连接器中就空出来 4 根针脚 。 对千 100BASE-T4 快速以太网，则要用到 4 对线，即 8 根针脚都要用到 。
顺便指出，采用 RJ-45 而不采用电话线的 RJ-11 也是为了避免将以太网的连接线插头错误地插进电话线的插孔内。另外， RJ-11 只有 6 根针脚，而 RJ-45 有 8 根针脚 。 这两种连接器 在形状上的区别如图 Q-3-12 所示。可以看出，插头 RJ-45 要比插头 RJ-11 略大一些。

### 问题 3-13. RJ-45 连接器对 8 根针脚的编号有什么规定?
解答: RJ-45 连接器包括 一 个插头和 一 个插孔(或插座)。插孔安装在机器上，而插头和 连接导线(现在最常用的就是采用无屏蔽双绞线的5类线)相连。 EI幻TIA制定的布线标准 规定了 8 根针脚的编号 。

 ### 问题 3-17. 使用屏蔽双绞线电缆 STP 安装以太网，是否可获得更好的效果?
解答 :是的。但屏蔽双绞线电缆的价格要比无屏蔽双绞线电缆贵，在施 工安装上难度较大，而且需要提供屏蔽接地，因此使用的插头与RJ-45 不同，安装也要复杂些 。

### 问题 3-18. 如果将已有的 10 Mbit/s 以太网升级到 JOO Mbit/s, 试问原来使用的连接导线 是否还能继续使用?
解答: 只要原来 10Mbit/s 以太网使用的是 **5类线**，就可以继续用在 100Mbit/s中。
但一定要注意 RJ-45 连接线的线序必须是符合标准规定的。如果不按照标准线序制作网线 ， 那么在某些情况下(例如网线很短的 IO Mbit/s 以太网 )，也许还勉强可以工作。但在这种情况下将 10 Mbit/s 以太网升级为 100 Mbit/s 以太网，就很可能无法正常工作。

### 问题 3-19. 使用 5 类线的 IOBASE-T 以太网的最大传输距离是 100m。但听到有人说，他 使用 IOBASE-T 以太网传送数据的距离达到 180m。这可能吗?
解答: 可能。这是因为有许多因素决定以太网的最大传输距离 。当一些具体条件(如导 线的电阻、实际的信噪比等)发生变化时，以太网的最大传输距离就会起变化 。

### 问题 3-20 粗缆以太网有一个单独的收发器 。 细缆以太网和双 绞线以太网有没有收发器?如果有，都在什么地方?
解答: 细缆以太网和双绞线以太网都把收发器做在网卡上 。


### 问题 3-21 什么叫做“星形总线 (star-shaped bus)" 或“盒中总线 (bus-in-a-box)" ?
解答: 这都是指使用集线器的双绞线以太网，因为这种以太网在逻辑上和总线以太网- 样，都使用 CSM幻CD 协议， 而总线是看不见的，因为集线器中的逻辑电路(好像装在一个盒子中)实现了总线的功能 。

### 问题 3-22. 以太网的覆盖范围受限的 一 个原因是 : 如果站点之间的距离太大，那么 由于 信号传输时会衰减得很多因而无法对信号进行可靠的接收 。 试问:如果我们 设法提 高发送信号的功率，那么是否就可以增大以太网的通信距离?
解答 :不行。能否正确接收信号并非取决于信号的绝对功率大小，而是**取决于信噪比**。 以太网信道中的噪声主要是其他双绞线中的信号通过电磁感应所造成的 。如果所有的站都提 高信号的发送功率，那么这种噪声功率也随之增大，结果信噪比并未提高，因而并 没有降低 误码率 。 所以依靠增大信号的发送功率是不能增大以太网的通信距离的 。

### 问题 3-23. 一 个大学能否就使用一个很大的局域网，而不使用许多相互连接的较小的局域网?
解答: 一般不会使用一个很大的局域网。这是因为使用一个很大的局域网有许多问题:
(1) 一 个局域网可能无法覆盖整个大学的地理范围 。
(2) 一个大学需要联网的计算机数量可能超过 一个局域网所容许接入的计算机的最大数量。
(3) 很大的局域网不便千管理 。
(4) 过大的局域网常常会产生”广播风暴"，影响局域网的正常工作 。
因此， 一 个大学的校园网通常并不是 一 个单个的大局域网而是 一 个互连网，这个互连网是由许多较小的局域网通过一些路由器互连而成的。

### 问题 3-24. 一 个 10 Mbit/s 以太网若工作在全双工状态，那么其数据率是发送和接收各为5 MbitJs 还是发送和接收各为 10 MbitJs?
解答:各为 10MbitJs。

### 问题 3-25. 一 个单个的以太网上所使用的网桥数目有没有上限?
解答:网桥仍然使用 CSMA/CD 协议，因此，从原理上讲，以太网似乎不应当对网桥的数目有什么限制 。 但是要知道，**每一个网桥会引入 一帧的时延。**因此，以太网上的网桥太多就会影响到以太网的性能。

### 间题 3-26. 当我们在 PC 上插上以太网的适配器(网卡)后，是否还必须编制以太网所需的 MAC 协议的程序?
解答:不需要。以太网所需的 MAC 协议的程序都已经固化在适配器(网卡)上的 ROM中，而且也无法更改。

### 问题 3-27. 使用网络分析软件可以分析出所捕获到的每一个帧的首部中各个字段的值， 但是有时却无法找出 LLC 帧首部的各字段的值。这是什么原因?
解答:当 MAC 帧的长度 /类型字段的值大于 Ox0600 C相当于十进制的 1536) 时，长度 / 类型字段就表示类型，而这样的帧就不使用 LLC 帧，当然也就无法得出 LLC 帧首部的各字 段的值。例如，在互联网中的 IP 数据报从 TCP/IP 体系中的网络层传送到下面的以太网时， 往往是直接将 IP 数据报封装到 MAC 帧中，而不使用 LLC 子层。

### 问题 3-28. 整个 IEEE 802 委员会现在一共有多少个工作组? 
解答:整个 IEEE 802 委员会下属的工作组如下(不活动的都注明了): 802.1 高层局域网协议工作组
802.2 逻辑链路控制 LLC 工作组(不活动)
802.3 以太网工作组
802.4 令牌总线工作组(不活动)
802.5 令牌环工作组(不活动)
802.6 城域网 MAN 工作组(不活动)
802.7 宽带 TAG (不活动)， TAG (Technical Advisory Group)是技术顾问组
802.8 光纤TAGC已解散)
802.9 等时局域网工作组(不活动)
802.10 安全工作组(不活动) 802.11 无线局域网工作组
802.12 需求优先级 工 作组(不活动)
802.13 这个编号不使用(某些外国人忌讳数 字 13) 802.14 电缆调制解调器工作组
802.15 无线个人区域网 WPAN 工作组
802.16 宽带无线接入工作组
802.17 弹性分组环工作组(不活动)
802.18 无线规章 TAG (不活动)
802.19 共存 (Coexistence) TAG
802.20 移动宽带无线接入 MBWA (Mobile Broadband Wireless Access)工作组(不活动)
802.21 媒体无关切换 (Media Independent Handofl)工作组
802.22 无线地区网 (Wireless Regional Area Network)工作组
802.23 应急服务 (Emergency Service)工作组(不活动)

### 问题 3-29. 在 一 些文献和教材中，可以见到关于以太网的“前同步码" (preamble)有两种 不同的说法 。一 种说法是:前同步码共 8 个字节。另一种说法是:前同步码共 7 个 字节，而在前同步码后面还有一个字节的"帧开始定界符" SFD (Start-of-Frame Delimiter)。 那么哪 一 种说法是正确的呢?
解答:都正确。
前 一 种说法出自最初的以太网标准(即 DIX 标准)，在这个标准中定义了以太网的前同 步码的 8 个字节。
但以后 IEEE 的 802.3 标准就将原来 8 字节的前同步码拆成为两个字段 。 前一个字段仍叫做前同步码，共 7 个字节，它就是原来 8 字节的前同步码中的前 7 个字节。后一个字段叫做帧开始定界符 SFD, 只有一个字节长，它就是原来 8 字节的前同步码中的最后一个字节。
这两种定义只是字段的名字不同，而 8 个字节的值都是完全一样的 。

### 问题 3-31 . 在 802.3 标准中有没有对人为干扰信号 (jamming signal)制定出标准呢? 
解答:没有。但很多厂家采用了 32 位或 48 位长的 1 和 0 交替的比特块，作为入为干扰信号 (1010...... 或 0101. .....)。

### 问题 3-32. 在以太网中，有没有可能在发送了 512 bit (64 B)以 后才发生碰撞?
解答:有可能。但这是一种不正常的情况(发生一般的碰撞，属千网络正常工作的情况)， 叫做"迟到的碰撞" (late collision)。
产生迟到的碰撞是因为网络覆盖的地理范围太大了 ，以致人为 干扰信号在网络上传播的 时间太长，使得有的站在发送 512bit(64B)以后才知道在以太网上发生了碰撞 。这时该站就立即停止发送数据，但已经发送出去的数据长度却超过了以太网规定的最短长度 (64 B)。具有这种大于 64 字节的 MAC 帧属千合法的帧，接收端必须将它收下来。当然，在进行差错检测后就可发现这是个有差错的帧，最后还是会将它丢弃。这时，要由高层来进行重传，结果浪费了时间。如果能够及时发现碰撞，则 MAC 层协议会自动对该帧进行重传，这显然要节省一些时间。

### 问题 3-33. 在有的文献中会见到 Runt 和 Jabber 这两个名词，它们是什么意思?
解答: Runt 一词的意思是:发育不全的矮小的植物(或动物)。在以太网中就是指**长度小于 64 字节的无效帧**(因为及时检测到碰撞而终止继续发送数据)。
Jabber 一词的意思是:急促不清的话，闲聊 。 在以太网中就是指**长度超过 1518 字节的无效帧**(其 CRC 检验也是有差错的)。这种帧的出现一般是由千网卡有硬件的故障。

### 问题 3-34. 当局域网刚刚问世时，总线形的以太网被认为可靠性比星形结构的网络好 。 但现在以太网又回到了星形结构，使用集线器作为交换结点 。那么 以前的看法是否 有些不正确?
解答:不是这样的 。
最初大家认为星形结构的网络的可靠性较差。但那是 20 世纪 70 年代中期的看法。那时 大规模集成电路刚刚起步，集成度还不高，因此若要制作出非常可靠的星形结构的网络交换 机，则其费用将是很高的。这就是说，在当时的历史条件下，还很难用廉价的方法实现高可 靠性的网络交换机。所以在 20 世纪 70 年代中期采用无源总线结构的以太网确实是比较经济 实用的。因此，总线式以太网一问世就受到广大用户的欢迎，并获得了很快的发展。
然而随着以太网上站点数目的增多，由接头数目增多而造成的可靠性下降的问题逐渐暴 露出来了。与此同时，大规模集成电路以及专用芯片的发展使得星形结构的集中式网络可以 做得既便宜又可靠。在这种情况下，**星形结构的集中式网络终千又成为以太网的首选拓扑 **。 现在已很少有人使用老式的总线式以太网了。

### 习题解答
### <3-01 > 数据链路(即逻辑链路)与链路(即物理链路)有何区别?“电路接通了”与 “数据链路接通了"的 区别何在?
解答:所谓**链路就是从一个结点到相邻结点的一段物理线路**，而中间没有任何其他的交换结点。在进行数据通信时，两个计算机之间的通信路径往往要经过许多段这样的链路。可见链路只是一条路径的组成部分。
数据链路则是另一个概念。这是因为当需要在一条线路上传送数据时，除了必须有一条物理线路外，还**必须有一些必要的通信协议来控制这些数据的传输**。若**把实现这些协议的硬件和软件加到链路上，就构成了数据链路。**现在最常用的方法是使用网络适配器(如拨号上网使用拨号适配器，以及通过以太网上网使用局域网适配器)来实现这些协议的硬件和软件。一般的适配器都包括了数据链路层和物理层这两层的功能。
也有人采用另外的术语。这就是把链路分为物理链路和逻辑链路。物理链路就是上面所说的链路，而逻辑链路就是上面的数据链路，是物理链路加上必要的通信协议 。

### 【3-02】 数据链路层中的链路控制包括哪些功能?试讨论把数据链路层做成可靠的链 路层有哪些优点和缺点 。
解 答 :链路控制的主要功能有 三 : (1) 封装成帧; (2) 透明传输; (3) 差错检测 。
数据链路层做成可靠的链路层，就表示从源主机到目的主机的整个通信路径中的每一段 链路的通信都是可靠的 。这样做的优点是可以使网络中的某个结点及早发现传输中出了差错， 因而可以通过数据链路层的重传来纠正这个差错 。 如果数据链路层不是做成可靠的链路层， 那么当网络中的某个结点发现收到的帧有差错时(不管数据链路层是否做成是可靠的，这个 检查差错的步骤总是要有的)，就仅仅丢弃有差错的帧，而并不通知发送结点重传出现差错的 帧。只有当目的主机的高层协议(例如，运输层协议 TCP) 发现了这个错误时，才通知源主 机重传出现差错的数据 。 但这时已经较迟了，可能要重传较多的数据(包括没有出差错的数 据)，对网络资源有些浪费 。
但是，有时高层协议使用的是不可靠的传输协议 UDP。UDP 并不要求重传有差错的数据 。 在这种情况下，如果数据链路层做成是可靠的链路层，那么在某些情况下这并不会带来更多的好处(例如，当高层传送实时音频或视频信号时) 。 换言之，增加了可靠性，牺牲了实时性，有时反而是不合适的。

### <3-03> 网络适配器的作用是什么?网络适配器工作在哪一层? '
解答 :适配器又称为网络接口卡或简称为“网卡"。在适配器上面装有处理器和存储器(包括 RAM 和 ROM)。 适配器和局域网之间的通信是**通过电缆或双绞线以串行传输方式**进行的， 而适 、配器**和计算机之间的通信则是通过计算机主板上的 1/0 总线以并行传输方式进行**的。因此，适配器的一个重要功能就是要进行数据串行传输和并行传输的转换。由千网络上的数据率和计算机总线上的数据率并不相同，因此在适配器中必须装有对数据进行缓存的存储芯片。 若在主板上插入适配器时，还必须把管理该适配器的设备驱动程序安装在计算机的操作系统中。 这个驱动程序以后就会告诉适配器， 应当从存储器的什么位置上把多长的数据块发送到局域网，或者应当在存储器的什么位置上把局域网传送过来的数据块存储下来。 适配器还要能够实现以太网协议。
适配器接收和发送各种帧时不使用计算机的 CPU。 这时 CPU 可以处理其他任务 。当适配器收到有差错的帧时， 就把这个帧丢弃而不必通知计算机 。 当适配器收到正确的帧时，它就使用中断来通知该计算机并交付协议栈中的网络层。当计算机要发送 IP 数据报时，就由协议栈把 IP 数据报向下交给适配器，组装成帧后发送到局域网 。

### <3-04 > 数据链路层的 三 个基本问题(封装成帧、透明传输和差错检测)为什么都必须加以解决?
解答: 封装成帧就是在一段数据的前后分别添加首部和尾部(在首部和尾部里面有许多 必要的控制信息) ， 这样就构成了一个帧 。 接收端在收到物理层上交的比特流后，就能根据首 部和尾部的标记，从收到的比特流中识别帧的开始和结束 。
所谓“透明传输”就是上层交下来的数据，不管是什么形式的比特组合，都必须能够正 确传送。由千帧的开始和结束的标记是使用专门指明的控制字符，因此，所传输的数据中的 任何比特组合 一 定不允许和用作帧定界的控制字符的比特编码 一 样，否则就会出现帧定界的 错误 。 数据链路层不应当对要传送的数据提出限制，即不应当规定某种形式的比特组合不能 够传送 。
如果数据链路层没有差错检测 ， 那么当目的主机收到其他主机发送来的数据时，在交给 高层后，如果应用程序要求收到的数据必须正确无误，那么目的主机的高层软件可以对收到 的数据进行差错检测。如果发现数据中有差错，就可以请求源主机重传这些数据 。 这样做就 可以达到正确接收数据的目的。但这种工作方式有一个很大的缺点，就是一些在传输过程中 出现了错误的数据(请注意，这些已经是没有用处的数据)还会继续在网络中传送，这样就 浪费了网络的资源。例如，源主机到目的主机的路径中共有 20 个结点。在传送数据时，第 一 个结点就检测出了差错 。 如果数据链路层有差错检测的功能，就可以把这个有差错的帧丢弃 ， 以后就不再传送了 。 否则这个没有用处的帧还要在网络上继续传送 ， 还要陆续通过后面 的 19 个结点，这就造成了网络资源的浪费。

### <3-05 > 如果在数据链路层不进行封装成帧，会发生什么问题?
解答: 如果在数据链路层不进行封装成帧，那么数据链路层在收到一些数据时，就**无法知道对方传送的数据中哪些是数据，哪些是控制信息，甚至数据中有没有差错 也不清楚**(因 为无法进行差错检测)。**数据链路层也无法知道数据传送结束了没有，因此不知道应当在什么时候把收到的数据交给上一层 。**

### 【3-06】 PPP 协议的主要特点是什么?为什么 PPP 不使用帧的编号? PPP 适用千什么情 况?为什么 PPP 协议不能使数据链路层实现可靠传输?
解答 : PPP 协议具有以下的一些特点:
(1) 简单:PPP协议很简单。接**收方每收到一个帧，就进行CRC检验。如CRC检验正确，就收下这个帧;反之，就丢弃这个帧，其他什么也不做。**
 (2) 封装成帧: PPP 协议规定了特殊的字符作为帧定界符 ，以便使接收端从收到的 比特流 中能准确地找出帧的开始和结束位置。
(3) 透明性: PPP 协议能够保证数据传输的透明性 。 如果数据中碰巧出现了和帧定界符一样的比特组合， PPP 规定了 一些措施来解决这个问题
(4) 支待多种网络层协议: PPP 协议支待多种网络层协议(如 IP 和 IPX 等)在同 一 条物 理链路上的运行。当点对点链路所连接的是局域网或路由器 时， PPP 协议必须同时支待在链 路所连接的局域网或路由器上运行的各种网络层协议。
(5) 支待多种类型链路: PPP 能够在多种类型的链路上运行 。例 如，串行的( 一次 只发 送 一 个比特)或并行的(一次并行地发送多个比特)，同步的或异步的，低速 的或高速的，电的或光的，交换的(动态的)或非交换的(静态的)点对点链路。
**PPP 不使用帧的编号，因为帧的编号是为了出错时可以有效地重传，而 PPP 并不需要实现可靠传输。**
PPP 适用千线路质量不太差的清况下。如果通信线路太差，传输就会频频出错。但PPP又没有编号 和确认机制，这样就必须靠上层的协议(有编号和重传机制)才能保证数据传输 的正确无误。这样就使数据的传输效率降低。

### 【3-07】 要发送的数据为 1101011011 。 采用 CRC 的生成多项式是 P(X) = x4 + X + 1 。 试 求应添加在数据后面的余数。数据在传输过程中最后一个1变成了O, 问接收端能否发现? 若数据在传输过程中最后两个1都变成了0, 问接收端能否发现? 采用 CRC 检验后，数据链路层的传输是否就变成了可靠的 传输?
解答:采用CRC的生成多项式是P(X)=x4+X+I, 用二进制表示就是P=10011。 现在除数是 5 位，因此在数据后面添加 4 个 0 就得出被除数
除法运算得出的余数 R 就是 应当添加在数据后面的检验序列:
1110。 现在数据在传输过程中最后一个 1 变成了 O, 即 1101011010。然后把检验序列 1110 接在
数据 1101011010 的后面。下一步就是进行 CRC 检验,余数 R 不为零，因此判定所接收的数据有差错。可见这里的 CRC 检验可以发现这个差错。
若数据在传输过程中最后两个 1 都变成了 o, 即1101011000。把检验序列 1110 接在数据1101011000 的后面，下 一步就是进行 CRC 检验.
现在余数 R 不为零，因此判定所接收的数据有差错。可见这里的 CRC 检验可以发现这个差错。
采用 CRC 检验后，数据链路层的传输并非变成了可靠的传输。当接收方进行 CRC 检验时，如果发现有差错，就简单地丢弃这个帧。数据链路层并不能保证接收方接收到的和发送方发送的完全一样。

### 【3-08】要发送的数据为 101110。采用 CRC 的生成多项式是 P(X) =x3 + 1。试求应添加 在数据后面的余数。
解答: CRC的生成多项式是P(X)=x3+1, 因此用二进制表示的除数P=1001。除数是4 位。在数据后面要添加 3 个 0。
进行 CRC 运算后，得出余数 R = 011

### 【3-09】一个 PPP 帧的数据部分(用十六进制写出)是 7D 5E FE 27 7D 5D 7D 5D 65 7D 5E。 试问真正的数据是什么(用十六进制写出)?
解答:把由转义符 7D 开始的 2 字 节序列用下划线标出: 7D 5E FE 27 7D 5D 7D 5D 65 7D 5E
7D 5E 应 当还原 成为 7E。
7D 5D 应当还原成为 7D。
因此，真正的数据部分是: 7E FE 27 7D 7D 65 7E

PPP的**异步传输**，规定使用0x7D作为转义字符，意思就是若接收到的PPP帧数据字段中只要出现了7D，接收方便知道这是一个被转义后的字段。使用转义字符避免数据字段某字节与标志字段7E、转义符7D、32位（20）ASCII控制字符相同产生的二义性。
7D的转义组合有三种：**7E**表示一个PPP帧的开始或结束，若出现，将其转成**7D 5E**；**7D**表示某个字段被转义，若出现，将其转成**7D 5D**；00到20属于ASCII控制符，若出现n属于此范围，将其转成**7D 20+n**。
假设一个报文数据字段是7E FE 27 03 65 7E，通过字节填充后得到唯一序列7D 5E FE 27 7D 23 65 7D 5E。

### 【3-10】 PPP 协议使用同步传输技术传送比特串 0110111 111111100。 试问经过零比特填 充后变成怎样的比特串?若接收端收到的 PPP 帧的数据部分是 0001110111110111110110, 问删除发送端加入的零比特后变成怎样的比特串?
解答:第一个比特串 0110111111111l00:
零比特填充就是在**一 连 5 个 1 之后必须插入一个 0**。
经过零比特填充后变成 011011111Q11111QOO (加下划线的 0 是填充的)
另一个比特串 0001110111110111110110:
删除发送端加入的零比特，就是把一连 5 个 1 后面的 0 删除。因此，删除发送端加入的
零比特后就得出: 000111 011111-11111-11 0 (连字符表示删除了 0)。

当PPP使用**同步传输**时（这种情况在SONET/SDH链路上使用PPP时出现），使用零比特填充来实现透明传输。
零比特填充相较字节填充要简单得多，0x7E的二进制表示是01111110，因此只要在**每出现5个1时插入一个0**就可以避免在数据中出现0x7E.

### 【3-11 】试分别讨论以下各种情况在什么条件下是透明传输，在什么条件下不是透明传轮。(提示:请弄清什么是“透明传输"，然后考虑能否满足其条件。)
(1) 普通的电话通信。
(2) 互联网提供的电子邮件服务。
解答:两种情况分析如下:
(1) 由千电话系统的带宽有限，而且还有失真，因此电话机两端的输入声波和输出声波是 有差异的。从“传送声波”这个意义上讲，普通的电话通信并不是透明传输。但从“听懂说 话的意思”来讲，则基本上是透明传输。但也有时个别语音会听错，如单个数字 l 和 7 在电 话中区别甚小。如果通话的一方说 1", 而另一方听成是 "7·, 那么这就不能算是透明传输。
(2) 一般说来，电子邮件是透明传输 。 但有时不是。因为国外有些邮件服务器为了防止垃 圾邮件，将来自某些域名(如.en) 的邮件一律阻拦掉。这就不是透明传输。有些邮件的附件 在收件人的电脑上打不开 。 这也不是透明传输。

### 【3-12】 PPP 协议的工作状态有哪几种?当用户要使用 PPP 协议和 ISP 建立连接进行通信时，需要建立哪几种连接?每 一 种连接解决什么问题?
解答: PPP 协议的工作状态有六种，这几个状态图之间的关系
当用户要使用 PPP 协议和 ISP 建立连接进行通信时，需要建立两种连接。
第一种连接是物理层连接，见图 T-3-12 中从“链路静止”到"链路建立”的这一过程。 我们知道，只有建立了物理层连接(即物理层链路)，上面的数据链路层连接才能建立。
第二种连接是数据链路层连接，即建立 LCP 链路。这时，用户 PC 向 ISP 发送一系列的 LCP 分组(封装成多个 PPP 帧)，以便建立 LCP 连接。这时 LCP 开始协商一些配置选项， LCP 配置选项包括链路上的最大帧长、所使用的鉴别协议的规约(如果有的话)，以及不使用 PPP 帧中的地址和控制字段(因为这两个字段的值是固定的，没有任何信息量，可以在 PPP 帧的 首部中省略这两个字节)。协商结束后双方就建立了 LCP 链路，接着就进入“鉴别”状态， 发起通信的一方发送身份标识符和口令(系统可允许用户重试若干次)。若鉴别成功，则进入
“网络层协议”状态。在“网络层协议”状态， PPP 链路的两端的网络控制协议 NCP, 根据 网络层的不同协议互相交换网络层特定的网络控制分组。 PPP 协议两端的网络层可以运行不 同的网络层协议，但仍然可使用同一个 PPP 协议进行通信。如果在 PPP 链路上运行的是 IP 协议，则对 PPP 链路的每一端配置 IP 协议模块(如分配 IP 地址)时，就要使用 NCP 中支持 IP 的协议—— IP 控制协议 IPCP。 IPCP 分组也封装成 PPP 帧，在 PPP 链路上传送 。在低速链 路上运行时，双方还可以协商使用压缩的 TCP 和 IP 首部，以减少在链路上发送的比特数。
当网络层配置完毕后，链路就进入可进行数据通信的"链路打开”状态。链路的两个 PPP 端点可以彼此向对方发送分组。

### <3-13 > 局域网的主要特点是什么?为什么局域网采用广播通信方式而广域网不采用呢? 
解答: 局域网最主要的特点是:网络为一个单位所拥有，且地理范围和站点数目均有限。 在局域网刚刚出现时，**局域网比广域网具有更高的数据率、更低的时延和更小的误码率。**但随着光纤技术在广域网中普遍使用，现在广域网也具有很高的数据率和很低的误码率。
局域网的地理范围较小，且为一个单位所拥有，采用广播通信方式十分简单方便。但广域网的地理范围很大，如果采用广播通信方式势必造成通信资源的极大浪费，因此广域网不 采用广播通信方式 。

### 【3-14】 常用的局域网的网络拓扑有哪些种类?现在最流行的是哪种结构?为什么早 期的以太网选择总线拓扑结构而不使用星形拓扑结构，但现在却改为使用星形 拓扑结构?
解答: 常用的局域网的网络拓扑有星形网、环形网(最典型的就是令牌环形网)和总线网 。 **现在最流行的是星形网**。 在局域网发展的早期，人们都认为有源器件比较容易出故障，因而无源的总线结构一定会更加可靠。星形拓扑结构的中心使用了有源器件，人们就认为这比较容易出故障，而要使 这个有源器件少出故障，必须使用非常昂贵的有源器件。然而实践证明，连接有大量站点的 总线式以太网，由于接插件的接口较多，反而很容易出现故障。现在专用的 ASIC 芯片的使 用可以把星形结构的集线器做得非常可靠。因此现在的以太网一般都使用星形结构的拓扑。

### <3-15 > 什么叫做传统以太网?以太网有哪两个主要标准?
解答: 传统以太网就是最早流行的 10 Mbit/s 速率的以太网 。
以太网有两个标准，即 DIX Ethernet V2 标准和 IEEE 802.3 标准。
1980 年 9 月， DEC 公司、英特尔 (Intel)公司和施乐公司 (Xerox)联合提出了 10 Mbit/s 以太网规约的第一个版本DIX VI (DIX 是这三个公司名称的缩写)。 1982 年又修改为第二版规约 (实际上也就是最后的版本)，即 DIX Ethernet V2, 成为世界上第一个局域网产品的规约。符合这个标准的局域网称为以太网。
在此基础上， IEEE 802 委员会的 802.3 工作组千 1983 年制定了第一个 IEEE 的局域网标准 IEEE 802.3 (这个标准更准确的名字是 IEEE 802.3 CSMA/CD), 数据率为 10 Mbit/s。 802.3 局域网对以太网标准中的帧格式作了很小的一点改动，但允许基千这两种标准的硬件在同一 个局域网上互操作。符合这个标准的局域网称为 802.3 局域网。
DIX Ethernet V2 标准与 IEEE 802.3 标准只有很小的差别，因此很多人也常把 802.3 局域 网简称为“以太网”，或“基于 DIX Ethernet 技术的像以太网 (Ethernet like)的系统” 。

### <3-16> 数据率为 lOMbit/s 的以太网在物理媒体上的码元传输速率是多少码元/秒? 
解答:以 太网发送的数据都使用曼彻斯特编码的信号
 从图 T-3-16 可以看出，数据率为 IO Mbit/s 的以太网就表明，在以太网适配器中，在进 行曼彻斯特编码之前，基带信号是每秒发送 IO X l06个码元 。但是经过曼彻斯特编码器之后， 原来的信号源的每 一个码元都变成了两个码元 。 因此，最后经过网络适配器发送到线路上的 码元速率是每秒 20 X 106个码元，即速率是每秒 20 兆码元 。
请注意，也有的曼彻斯特编码出现电平转换的规定，正好与图 T-3-16 所示的相反 。 也就是说， 1 对应于曼彻斯特编码的负跳变，而 0 对应千曼彻斯特编码的正跳变。

### <3-17 > 为什么 LLC 子层的标准己制定出来了但现在却很少使用?
解答:当 IEEE 在 1983 年制定 802.3 标准时，已经流行了几种不同的局域网。因此 802委员会决定把局域网的数据链路层协议再划分为两个子层，一个是媒体接入控制 MAC 子层， 另一个是与具体的媒体无关的逻辑链路控制 LLC 子层。然而到现在，过去曾流行过的令牌环 形网、令牌总线局域网以及光纤分布式数据接口 FDDI 局域网，都已经在市场上消失了。因此，**在现在只剩下 一种局域网(以太网)的情况下， LLC 子层显然没有存在的价值了**。现在 IP 数据报都是直接放入到以太网中，作为以太网的数据部分 。

### <3-18> 试说明 IOBASE-T 中的 "IO"、 "BASE" 和 "T" 所代表的意思。
解答: "10" 代表这种以太网具有 10 Mbit/s 的数据率 ， BASE 表示连接线上的信号是基带信号， T 代表双绞线 (Twisted-pair)。

### <3-19 > 以太网使用的 CSMA/CD 协议是以争用方式接入到共享信道的。这与传统的时 分复用 TOM 相比优缺点如何?
解答:应当说， CSMA/CD协议与传统的时分复用TOM各有优缺点。
网络上的负荷较轻时， CSMA/CD 协议很灵活，哪个站想发送就可以发送，而且发生碰撞的概率很小 。如使用时分复用 TOM, 效率就比较低。当很多站没有信息要发送时，分配到 的时隙也浪费了 。但网络负荷很重时， CSMA/CD 协议引起的碰撞很多，重传经常发生，因而效率大大降低。但这时 TOM 的效率就很高。
这好比在一个城市中的交叉路口的红绿灯系统。当车辆很少时，红绿灯可能会产生一些 不必要的红灯等待。但车辆的流量很大时，使用红绿灯系统就是非常必要的，可以使得车辆 的通行有条不紊。

### <3-20 > 假定 I km 长的 CSMA/CD 网络的数据率为 I Gbit/s。设信号在网络上的传播速 率为 200 000 km/s。求能够使用此协议的最短帧长。
解答: I km 长的 CSMA/CD 网络的端到端传播时延. = (I km)/ (200000 km/s) = 5μs 21=IOμs, 在此时间内要发送(I Gbit/s) (10μs) = 10000 bit
只有经过这样 一 段时间后发送端才能收到碰撞的信息(如果发生碰撞的话)，也才能检测到碰撞的发生。
因此，最短帧长为 I0000 bit, 或 1250 字节。

### <3-21 > 什么叫做比特时间?使用这种时间单位有什么好处? 100 比特时间是多少微秒?
 解答:比 特时间就是发迭 l 比特所需的时间，而不管数据率是多少 。 需要注意的是，发 送 1 比特的时间长短显然与数据率密切相关 。
采用比特时间的好处是方便 。 如果不采用比特时间，那么当我们讨论某个站发送数据时， 若所发送的数据共有 6400 比特，那么发迭这 6400 比特所需的时间就是 6400 除以发送速率。 例如，若发送速率是 10 Mbit/s, 则发送这 6400 比特所需的时间是:
6400 / 10000000 = 640 x 10$_{-6}$秒 = 640 微妙
但如果是以“比特时间”为单位，那么不管发送速率是多少，发送 6400 比特所需的时间 一定是 6400 比特时间。这显然要方便得多 。
要把“比特时间”换算成“秒”或“微秒"，就必须先知道数据率是多少 。 因此，要回答 "100 比特时间 是多少微秒?”这样的问题，不给出数据率是无法回答的 。

### [3-22 > 假定在使用 CSM凶 CD 协议的 10 Mbit/s 以太网中，某个站在发送数据时检测到碰撞，执行退避算法时选择了随机数 r= 100。试问这个站需要等待多长时间 后才能再次发送数据?如果是 100 Mbit/s 的以太网呢?
解答: 对于 10 Mbit/s 的以太网，争用期是 512 比特时间 。 现在 r = 100, 因此退避时间 是 51200 比特时间 。
这个站需要等待的时间是 51200 / 10 = 5120μs = 5.12 ms。
对于 100 Mbit/s 的以太网，争用期仍然是 512 比特时间，退避时间是 51200 比特时间。 因此，这个站需要等待的时间是 51200 / I00 = S12μs。

### <3-23 > 教材上的公式 (3-3)表示，以太网的极限信道利用率与连接在以太网上的站点数 无关。能否由此推论出:以太网的利用率也与连接在以太网上的站点数无关? 请说明你的理由。
解答:以太网的利用率应当与连接在以太网上的站点数有关。我们知道，以太网各站发送数据的时刻应当是随机的。但公式 (3-3)表述的以太网的极限信道利用率是基于这样的假定: 这个以太网使用了特殊的调度方法， 一个站发送完数据后，另一个站就接着发送。结果是各站点的发送都不会发生碰撞。这样就使以太网的利用率达到最大值。但我们注意到，这已经不再是采用 CSMNCD 协议的以太网了 。

### <3-24 >假定站点 A 和 B 在同一个 10 Mbit/s 以太网网段上。这两个站点之间的传播时 延为 225 比特时间。现假定 A 开始发送一帧，并且在 A 发送结束之前 B 也发 送一帧。如果 A 发送的是以太网所容许的最短的帧，那么 A 在检测到和 B 发 生碰撞之前能否把自己的数据发送完毕?换言之，如果 A 在发送完毕之前并没 有检测到碰撞，那么能否肯定 A 所发送的帧不会和 B 发送的帧发生碰撞?(提 示:在计算时应当考虑到每 一 个以太网帧在发送到信道上时，在 MAC 帧前面 还要增加若干字节的前同步码和帧定界符。)
解答: 设在 t= 0 时 A 开始发送 。 A 发送的最短帧长是 64 字节= 512 bit。实际上在信道 上传送的还有 8 字节(= 64 bit) 的前同步码和帧开始定界符，因此在 t =5 12+64=576
 比特时间， A应当发送完毕。经过传播时间后，即t =225比特时间， B检测出A的信号 (如图 T-3-24 所 示)。
 因此，在 t = 225 比特时间以后 B 就不会发送数据了。反之，如果 B 在 t = 224 比特时间 或这以前发送数据就 一定会 和 A 发送的数据发生碰撞。因此，题目说:“在 A 发送结束之前 B 也发送一帧"，等千隐含地说:“受 CSMA/CD 协议的约束， B 在 t = 224 比特时间以前发送 了数据。”
B在t=224比特时间发送的第一个比特将在t=224+225=449比特时间到达A, 因此， A 在检测到和 B 发送的数据发生碰撞之前显然还没有发送完毕(因为 449 小于上面算出的 576)。当 A 检测到发生碰撞时，就要停止发送，并执行退避算法 。
换言之，如果 A 在发送完毕之前(即在 t=512 + 64 =576 比特时间之前)没有检测到碰 撞，那么就能表明: A 所发送的帧不会和 B 发送的帧发生碰撞(当然也不会和其他站点发生 碰撞)。

### <3-25> 在上题中的站点A和B在t=0时同时发送了数据帧。当t=225比特时间， A 和 B 同时检测到发生了碰撞，并且在 t= 225 +48 = 273 比特时间完成了干扰信 号的传输。 A和 B在 CSMA/CD算法中选择不同的 r值退避。 假定 A和 B选 择的随机数分别是 rA =O 和 rs= 1o 试问 A 和 B 各在什么时间开始重传其数据 帧? A 重传的数据帧在什么时间到达 B? A 重传的数据会不会和 B 重传的数据 再次发送碰撞? B 会不会在预定的重传时间停止发送数据?
解答:图 T-3-25 给出了在几个主要时间所发生的事件。所有的时间单位都是“比特时间”。 t=0时， A和B开始发送数据。
t=225比特时间， A和B都检测到碰撞。
t=273 比特时间， A和B结束干扰信号的传输。 A和B都马上执行退避算法。
因为 rA= 0 和 rs= 1, 所以 A 立即检测信道，而 B 要推迟 512 比特时间后才检测信道 。
也就是说，， A 在 t = 273 比特时间就开始检测信道，但 B 要等到 t = 785 比特时间才检测信道。
当 t= 273 + 225 = 498 比特时间， B 的干扰信号中的最后 一个比特到达 A; A 检测到信道 空闲。但 A 还不能马上发送数据，必须等待 96 比特时间后才能发送数据(我们应当注意到， 以太网的帧间最小间隔就是 9.6μs, 相当于 96 比特时间)。
这样，当 t= 498 + 96 = 594 比特时间， A 开始发送数据。
再看 一 下 B 什么时候可以发送数据。当 /=273+512=785 比特时间 CB 从 273 比特时 间算起，经过 1 个争用期 512 比特时间)，再次检测信道。如空闲，则 B 在 96 比特时间后， 即将在 t= 785 + 96 = 881 比特时间发送数据。请注意，只有从 785 比特时间一直到 881 比特 时间 B 一 直检测到信道是空闲的， B 才在 881 比特时间发送数据。
当 /=594+225=819 比特时间， A 在 594 比特时间发送的数据到达 B。
可见从 785 比特时间算起，才经过了 34 比特时间， B 就检测到信道忙，因此 B 在预定的 881 比特时间不发送数据。

### 帧间最小间隔
帧间最小间隔为9.6us,相当于96bit的发送时间。一**个站在检测到总线开始空闲后，还要等待9.6us才能再次发送数据**。这样做是为了使刚刚收到的数据帧的站的接收缓存来得及清理，做好接收下一帧的准备。

### <3-26 > 以太网上只有两个站，它们同时发送数据，产生了碰撞。千是按截断 二 进制指 数退避算法进行重传。重传次数记为 i, i=l,2,3, ...。 试计算第 1 次重传失败 的概率、第 2 次重传失败的概率、第 3 次重传失败的概率，以及一个站成功发 送数据之前的平均重传次数 I。
解答:将第 l 次重传失败的概率记为 P;, 显然
P; = (0.5)$^k$= min[i, 10]
故第 1 次重传失败的概率 P1 =0.5,
第 2 次重传失败的概率 P2 = 0.25,
第 3 次重传失败的概率 P3  = 0.125。
P[传送 i 次才成功] = P[第 1 次传送失败]• P[第 2 次传送失败]... •P[第 i- 1 次传送失败] • P[第 1 次传送成功] 
P[传送 1 次成功] =0.5
P[传送 2 次才成功] = P[第 1 次传送失败] • P[第 2 次传送成功]
= P[ 第1次传送失败 ] (I-P [第 2次传送失败] )=0.5(0.75)=0.375
P[ 传送3次才成功] =P[第1 次传送失败]•P [ 第2次传送失败]·P[ 第3次传送成功]
= P[第 1 次传送失败] P[第 2 次传送失败] (I — P[第 3 次传送失败])
= 0.5 (0.25) (I - 0.125) = 0.5 (0 .25) (0.875) = 0.1094
P[传送 4 次才成功 l = o.5 (0.25) co.125) (I - o.0625) = o.5 (0.25) (0.125) (0.9375) = 0.0146
求 {P[传送 1 次才成功]}的统计平均值，得出
平均重传次数= 1 (0.5) + 2 (0.375) + 3 (0.1094) + 4 (0.0146) + ... = 0.5 + 0.75 + 0.3282 + 0.0586 + ... = 1.64

### 【3-27】 有 10 个站连接到以太网上 。 试计算以下 三 种情况下每 一 个站所能得到的带宽 。 
(1) I0个站都连接到一个 10Mbit/s 以太网集线器。
(2) 10 个站都连接到 一个 100 Mbit/s 以太网集线器。
(3) I0个站都连接到一个 10Mbit/s 以太网交换机。
解答:每 一个站所能得到的带宽如下:
(1) 假定以太网的利用率基本上达到 100%, 那么 10个站共享 10 Mbit/s, 即平均每一个 站可得到 I Mbit/s 的带宽 。
(2) 假定以太网的利用率基本上达到 100%, 那么 10 个站共享 100 Mbit/s, 即平均每 一个 站可得到 10Mbit/s的带宽。
(3) **每一个站独占交换机的一个接口的带宽 10 Mbit/s。** 这里我们假定这个交换机的总带宽不小于 100Mbit/s。




