- [问题 5-1. TCP 协议是面向连接的，但 TCP 使用的 IP 协议却是无连接的。这两种协议都 有哪些主要的区别?](#问题-5-1-tcp-协议是面向连接的但-tcp-使用的-ip-协议却是无连接的这两种协议都-有哪些主要的区别)
- [问题5-2. 从通信的起点和终点来比较， TCP和IP的不同点是什么?](#问题5-2-从通信的起点和终点来比较-tcp和ip的不同点是什么)
- [问题 5-3. IP和 UDP 的一个共同点就是它们都是无连接 的 。IP和 UDP 最主要的区别是什么?](#问题-5-3-ip和-udp-的一个共同点就是它们都是无连接-的-ip和-udp-最主要的区别是什么)
- [问题 5-4. 端口(port)和套接字(socket)的区别是什么?](#问题-5-4-端口port和套接字socket的区别是什么)
### 问题 5-1. TCP 协议是面向连接的，但 TCP 使用的 IP 协议却是无连接的。这两种协议都 有哪些主要的区别?
解答:这个问题很重要，一定要弄清楚。
TCP 是面向连接的，但TCP所使用的网络则可以是面向连接的(如X.25网络)，但也可以是无连接的(如现在大量使用的IP网络)。选择无连接网络就使得整个系统非常灵活，当然也带来了一些问题。
显然，TCP提供的功能和服务要比IP所能提供的多得多。这是因为TCP使用了诸如确认、窗口通知计时器笘机制，因而可以检测出有差错的报文、重复的报文和失序的报文。

### 问题5-2. 从通信的起点和终点来比较， TCP和IP的不同点是什么?
解答: 
进程A和进程B的通信是使用面向连接的TCP提供的可靠的传输。
主机X和主机Y的通信是使用无连接的IP提供的不可靠的传输。
请注意:对TCP来说，通信的起点和终点是运输层上面的两个**套接字(socket)**,而应用层的应用进程正是通过应用层和运输层之间的套接字来使用TCP提供的服务。TCP协议根据报文段首部中的端口号找到目的端口，将报文段交付**目的进程**。请注意:套接字是由IP地址和端口号决定的，套接字也可称为“插口”。
对IP来说，通信的起点和终点是连接在网络上的两个**主机**。IP协议根据数据报首部中的目的IP地址找到目的主机，将数据报交付**目的主机**。
请注意可靠传输的范围和不可靠传输的范围是不同的 。
我们还应当注意的是:虽然在两个套接字之间的通信是面向连接的，但IP数据报在下面的网络中传输时是独立地选择路由，而**不是沿着某—条固定的路径传输**。然而在上面的端口看来，TCP报文段**好像都是从一个虚拟的、可靠的通信管道中传输到对方的端口的。**

### 问题 5-3. IP和 UDP 的一个共同点就是它们都是无连接 的 。IP和 UDP 最主要的区别是什么? 
解答: IP是**主机到主机**的通信协议，但UDP是**进程到进程**的通信协议。

### 问题 5-4. 端口(port)和套接字(socket)的区别是什么?
解答: 从教材经常使用的套接字定义来看，套接字包含了端口，因为**套接字**=(IP地址，端口号)。套接字是TCP连接的端点。套接字又称为"插口”。
但我们已经讲过，套接字(socket)有多种意思。当使用API时，套接字往往被看成是操作系统的一种抽象，这时，套接字和一个文件描述符是很相似的，并且是应用编程接口API的一部分。套接字由应用程序产生，并指明它将由客户还是服务器来使用。当应用进程创建一个套接字时，要指明该套接字使用的瑞门号。
**端口**则是应用层服务的一种代号，它用来标志应用层的进程。端口是一个16bit的整数。各种服务器使用的湍口号都是保留端口号，以便使客户能够找到服务器。例如万维网服务器使用的端口号是80。
在发送数据时，应用层的数据通过端口向下交付运输层。在接收数据时，运输层的数据通过适当的端口向上交付应用层的某个应用程序。