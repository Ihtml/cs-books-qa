### 1.试说明设备控制器的组成。 
答:由设备控制器与处理机的接口，设备控制器与设备的接口与I/O逻辑组成。 

### 2.为了实现CPU与设备控制器间的通信，设备控制器应具备哪些功能? 
答:接收和识别命令;数据交换;标识和报告设备状态;地址识别;数据缓冲;差错控制。 

### 3.什么是字节多路通道?什么是数组选择通道和数组多路通道? 
答:
(1)字节多路通道。按字节交叉方式工作的通道。通常含有许多非分配型子通道，数量从几十到数百个，每个子通道连接一台I/O 设备，控制其I/O 操作。子通道按时间片轮转方式共享主通道。 
(2)数组选择通道。按数组方式传送数据，传输速率很高，每次只允许一个设备数据。
(3)数组多路通道。将数组选择通道传输速率高和字节多路通道的各子通道分时并行操作的优点结合而成。含有多个非分配型子通道，具有很高的数据传输率和通道利用率。

### 4.如何解决因通道不足而产生的瓶颈问题? 
答:解决问题的有效方法是增加设备到主机间的通路而不增加通道，把一个设备连到多个控制器上，控制器又连到多个通道上，这种多通路方式解决了“瓶颈”问题，提高了系统可靠性，个别通道或控制器的故障不会使设备和存储器之间没有通路。


### 5.试对VESA 及PCI两种总线进行比较。 
答:VESA总线的设计思想是以低价占领市场。总线带宽32位，最高传输速率132Mb/s。 广泛用于486微机。缺点是能连接的设备数仅为2~4 台，控制器中无缓冲，难于适应处理器速度的提高，不支持Pentium机。
PCI总线在CPU和外设间插入了复杂的管理层，协调数据传输和提供一致接口。管理 层中配有数据缓冲，放大了线路的驱动能力，最多支持10种外设，支持高时钟频率的CPU 运行，最大传输速率132Mb/s。可连接ISA、EISA 等传统总线，又支持Pentium的64 位系统，是基于奔腾等新一代微处理器而发展的总线。

### 6.试说明推动I/O控制发展的主要因素是什么?
答:推动I/O 控制发展的主要动力在于尽量减少主机对I/O 控制的干预，把主机从繁杂的I/O 控制事务中解脱出来，用更多的时间和精力去完成其数据处理任务。同时，中断机制在计算机系统中的引入、DMA 控制器的出现和通道研制的成功使I/O 控制的发展具备了技术支持和成为可能。

### 7.有哪几种I/O控制方式?各适用于何种场合?
答:共有四种I/O 控制方式。
(1)程序I/O 方式:早期计算机无中断机构，处理机对I/O设备的控制采用程序I/O方式或称忙等的方式。
(2)中断驱动I/O 控制方式:适用于有中断机构的计算机系统中。 
(3)直接存储器访问(DMA)I/O 控制方式:适用于具有DMA控制器的计算机系统中。
(4)I/O 通道控制方式:具有通道程序的计算机系统中。

### 8.试说明DMA的工作流程。 
答:以从磁盘读入数据为例，说明DMA的工作流程。当CPU要从磁盘读入数据块时，先向磁盘控制器发送一条读命令。该命令被送到命令寄存器CR中。同时还发送本次要读入数据的内存起始目标地址，送入内存地址寄存器MAR;本次要读数据的字节数送入数据计数器DC，将磁盘中的源地址直接送DMA控制器的I/O 控制逻辑上。然后启动DMA 控制器传送数据，以后CPU 便处理其它任务。整个数据传送过程由DMA控制器控制。

### 9.引入缓冲的主要原因是什么?
答:引入缓冲的主要原因是:
(1)缓和CPU与I/O 设备间速度不匹配的矛盾 
(2)减少对CPU的中断频率，放宽对中断响应时间的限制
(3)提高CPU与I/O 设备之间的并行性

### 10.在单缓冲情况下，为什么系统对一块数据的处理时间为max(C,T)+M ? 
答:在块设备输入时，先从磁盘把一块数据输入到缓冲区，耗时为T;然后由操作系统将缓冲区数据送给用户区，耗时M;接下来由CPU 对块数据进行计算，耗时C。在单缓冲情况下，磁盘把 数据输入到缓冲区的操作和CPU 对数据的计算过程可以并行展开，所以系统对每一整块数据的处 理时间为max(C, T) + M。

### 11.为什么在双缓冲情况下，系统对一块数据的处理时间为max(T,C)? 
答:写入者花费时间T 将数据写满一个缓冲区后再写另一个缓冲区;读出者花费时间M 将一个缓冲区数据送到用户区后再传送另一个缓冲区数据，计算者读出用户区数据进行处理。由于将数据从缓冲区传到用户区操作必须与读用户区数据处理串行进行，而且可以与从外存传送数据填满缓冲区的操作并行。因此耗时大约为max(C+M,T)。考虑M 是内存数据块的移动耗时非常短暂可以省略，因此近似地认为系统对一块数据处理时间为max(C,T)。


