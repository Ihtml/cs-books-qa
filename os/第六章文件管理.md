### 1.何谓数据项、记录和文件? 
答:1数据项分为基本数据项和组合数据项。基本数据项描述一个对象某种属性的字符集，具有数据名、数据类型及数据值三个特性。组合数据项由若干数据项构成。 
2记录是一组相关数据项的集合，用于描述一个对象某方面的属性。 
3文件是具有文件名的一组相关信息的集合。


### 2.文件系统的模型可分为三层，试说明其每一层所包含的基本内容。 
答:第一层:对象及其属性说明(文件、目录、硬盘或磁带存储空间); 第二层:对对象操纵和管理的软件集合(I/O控制层即设备驱动程序、基本文件系统即物理I/O 层、基本I/O管理程序或文件组织模块层、逻辑文件系统层) 
第三层:文件系统接口(命令接口/图形化用户接口与程序接口)。

3.试说明用户可以对文件施加的主要操作有哪些? 
答:用户通过文件系统提供的系统调用对文件实施操作。 
(1)基本文件操作:创建、删除、读、写、截断、设置读/写位置等; (2)文件打开和关闭操作:第一步通过检索文件目录找到指定文件属性及其在外存上位置;第二步对文件实施读写等相应操作。
3)其他文件操作:一是文件属性操作;二是目录操作;三是文件共享与文件系统操作的系统 调用实现等。

### 4.何谓逻辑文件?何谓物理文件? 
答:逻辑文件是物理文件中存储的数据的一种视图方式，不包含具体数据，仅包含物理文件中数据的索引。
物理文件又称文件存储结构，是指文件在外存上的存储组织形式。

### 5.如何提高对变长记录顺序文件的检索速度? 
答:基本方法是为变长记录顺序文件建立一张索引表，以主文件中每条记录的长度及指向对应记录的指针(即该记录在逻辑地址空间的首址)作为相应表项的内容。由于索引表本身是一个定长记录的顺序文件，若将其按记录键排序，则实现了对主文件方便快捷的直接存取。如果文件较大， 应通过建立分组多级索引以进一步提高检索效率。

### 6.试说明对索引文件和索引顺序文件的检索方法。
答: 
1索引文件的检索，首先根据用户(程序)提供的关键字，利用折半查找法检索索引表，找到相应表项;再利用给出的指向记录指针值，访问对应记录。 
2索引顺序文件的检索，首先利用用户(程序)提供的关键字及查找方法，检索索引表，找到该记录在记录组中的第一条记录表项，得到第一个记录在主文件中的位置;再利用顺序查找法查找主文件，找到所要求的记录。


### 7.试从检索速度和存储费用两方面对索引文件和索引顺序文件进行比较。 
答:索引文件的主文件每条记录配置一个索引项，存储开销N，检索到具有指定关键字的记录， 平均查找N/2 条记录。对于索引顺序文件，每个记录分组配置一个索引项，存储开销为N ，检索 到具有指定关键字的记录，平均需要查找N /2次。

### 8.试说明顺序文件的结构及其优点。 
答:第一种是串结构:各记录之间的顺序与关键字无关。
第二种是顺序结构:指文件中的所有记录按关键字(词)排列。可以按关键词长短排序或英文字母顺序排序。
顺序文件的最佳应用场合是对诸记录进行批量存取时，存取效率最高;只有顺序文件才能存储在 磁带上并有效工作。

### 9.在链接式文件中常用哪种链接方式?为什么? 
答:链接方式分为隐式链接和显式链接两种形式。隐式链接是在文件目录的每个目录项中，都含有指向链接文件第一个盘块和最后一个盘块的指针。显式链接则把用于链接文件各物理块的指针，显式地存放在内存的一张链接表中。

### 11.NTFS文件系统对文件采用什么样的物理结构?
答:在NTFS 文件系统中，以簇作为磁盘空间分配和回收的基本单位。一个文件占若干个簇，一个簇只属于一个文件。

### 12.假定一个文件系统的组织方式与MS-DOS相似，在FAT中可有64K个指针，磁盘的盘块大小 为512B，试问该文件系统能否指引一个512MB 的磁盘?
解:512MB/512B=1M 个盘块，而每个盘块都应有一个指针来指示，所以应该有1M 个指针，因 此若有64K 指针不能指引一个512MB的磁盘。

### 13.为了快速访问，又易于更新，当数据为以下形式时，应选用何种文件组织方式。 (1)不经常更新，经常随机访问;(2)经常更新，经常按一定顺序访问;(3)经常更新，经常随机访问; 
答:以上三种宜分别采用(1)顺序结构(2)索引顺序结构(3)索引结构的组织方式。

### 14.在UNIX 中，如果一个盘块的大小为1KB，每个盘块号占4个字节，即每块可放256个地址。 请转换下列文件的字节偏移量为物理地址。
(1)9999; (2)18000; (3)420000
答:首先将逻辑文件的字节偏移量转换为逻辑块号和块内偏移量,就是将[字节偏移量]/[盘块大 小]，商为逻辑块号，余数是块内偏移量。在FCB中，第0-9个地址为直接地址，第10个为一次间 接地址，第11个地址为二次间接地址，第12个地址为三次间接地址。 再将文件的逻辑块号转换为物理块号。使用多重索引结构，在索引节点中根据逻辑块号 通过直接索引或间接索引找到对应的物理块号。
(1)9999/1024=9 余783，则逻辑块号为9，直接索引第9个地址得到物理块号，块内偏移地 址为783。 
(2)18000/1024=17余592，则逻辑块号为10<17<10+256，通过一次间接索引在第10个地 址可得到物理块号，块内偏移地址为592。
(3)420000/1024=410 余160，则逻辑块号为10+256<410，通过二次间接索引在第11个地址可得到一次间址，再由此得到二次间址，再找到物理块号，其块内偏移地址160。
